;/*7P1RCD3H9R0M*/var I10C;var I11C;(I11C || I10C).ScriptBegin();!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}var o=n(1),i=a(o),l=n(2),u=a(l),s=n(5),f=(a(s),n(7)),d=(a(f),n(8)),c=(a(d),n(9)),p=a(c),g=n(10),h=(a(g),n(12)),m=(a(h),n(16)),y=(a(m),n(17)),v=(a(y),n(19)),w=(a(v),n(11)),S=(a(w),n(13)),k=(a(S),n(21)),b=(a(k),n(22)),x=(a(b),n(25)),I=(r(x),n(20)),C=(a(I),n(3));a(C),document,window;p.default.addEarlyExtension("l9ehhrb6mtv75bp2",{run:function(){u.default.globalTracking=!0,u.default.activity.activityServer="//query.fandommetrics.com",u.default.timers={stuck_3m:18e4}}});var R=function(){u.default.shown.freqCap=2,u.default.inventory.version=3,u.default.inventory.inventoryServer="//query.fandommetrics.com",u.default.sdk.multiFetch=!0,u.default.activity.activityServer="//query.fandommetrics.com",u.default.activity.itemRegex="(?:[?#]|$)",u.default.activity.excludeRegex="(answers.wikia.com|pecial:|Talk:|User:|Template:|Category:|_Wiki|Main_Page|Marvel_Database|:Search|peciale:|pecjalna:|/Narutopedia)",u.default.inventory.itemRegex="(http://.+.wikia.com/wiki/.+?|http://fandom.wikia.com/(?:articles|videos|curated)/.+?)(?:[?#]|$)",u.default.inventory.excludeRegex="(pecial:|Talk:|User:|Template:|Category:|answers.wikia.com)",u.default.inventory.filters=[{name:"noIndex",value:"true"}]};p.default.addWidgetData("l9ehhrb6mtv75bp2",{widgets:{"wikia-rail":{dedupGid:"0"},"wikia-impactfooter":{dedupGid:"0"},"wikia-footer-wiki-rec":{dedupGid:"1"}}}),p.default.addExtension("l9ehhrb6mtv75bp2",{run:R}),i.default.start()},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(){console.log("JavaScript SDK is not activated.")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),l=a(i),u=n(5),s=a(u),f=n(7),d=a(f),c=n(8),p=a(c),g=n(9),h=a(g),m=n(10),y=a(m),v=n(12),w=a(v),S=n(16),k=a(S),b=n(17),x=a(b),I=n(19),C=a(I),R=n(11),T=(a(R),n(13)),_=a(T),U=n(21),O=a(U),E=n(22),A=a(E),P=n(3),H=(a(P),n(24)),j=a(H),D=n(25),q=r(D);t.default={start:function(){var e=this,t=l.default.pmVar,n=window[t].q||[];window[t]=function(){return e.processCall(arguments)};for(var r=0;r<n.length;r++)e.processCall(n[r])},processCall:function(e){var t=Array.prototype.slice.call(e);switch(l.default.debug&&(console.log("$p function: "+t[0]),console.log("$p params: "+JSON.stringify(t.slice(1)))),t[0]){case"init":this.init.apply({},t.slice(1));break;case"send":y.default.send.apply({},t.slice(1));break;case"sendRobust":return y.default.sendRobust.apply({},t.slice(1));case"collectWidgetInfo":x.default.collectWidgetInfo.apply({},t.slice(1));break;case"collectInventory":O.default.collect.apply({},t.slice(1));break;case"setPushStateReset":C.default.setPushStateReset.apply({},t.slice(1));break;case"setOnHashChangeReset":C.default.setOnHashChangeReset.apply({},t.slice(1));break;case"printDebugInfo":this.printDebugInfo.apply({},t.slice(1));break;case"debug":l.default.debug=t[1]===!0;break;case"resetPageview":return A.default.isActivated()?A.default.resetPageview.apply({},t.slice(1)):o();case"pushBrowsingHist":return A.default.isActivated()?A.default.pushBrowsingHist.apply({},t.slice(1)):o();case"setUserId":return A.default.isActivated()?s.default.setUserId.apply({},t.slice(1)):o();case"getWidgetNames":return A.default.isActivated()?A.default.getWidgetNames.apply({},t.slice(1)):o();case"setRequestFields":A.default.isActivated()?A.default.setRequestFields.apply({},t.slice(1)):o();break;case"setRequestFieldsAON":A.default.isActivated()?A.default.setRequestFieldsAON.apply({},t.slice(1)):o();break;case"setArrayRequestFields":A.default.isActivated()?A.default.setArrayRequestFields.apply({},t.slice(1)):o();break;case"setMandatoryRequestFields":A.default.isActivated()?A.default.setMandatoryRequestFields.apply({},t.slice(1)):o();break;case"setMandatoryArrayRequestFields":A.default.isActivated()?A.default.setMandatoryArrayRequestFields.apply({},t.slice(1)):o();break;case"setGetQueryInfo":A.default.isActivated()?A.default.setGetQueryInfo.apply({},t.slice(1)):o();break;case"setNoTag":A.default.isActivated()?A.default.setNoTag.apply({},t.slice(1)):o();break;case"register":A.default.isActivated()?A.default.register.apply({},t.slice(1)):o();break;case"fetch":A.default.isActivated()?A.default.fetch.apply({},t.slice(1)):o();break;case"track":A.default.isActivated()?A.default.track.apply({},t.slice(1)):o();break;case"userHash":return A.default.isActivated()?A.default.userHash.apply({},t.slice(1)):o();case"abTestSlice":return A.default.isActivated()?A.default.abTestSlice.apply({},t.slice(1)):o();case"render":return A.default.isActivated()?A.default.render.apply({},t.slice(1)):o();case"renderCustomWidget":return A.default.isActivated()?A.default.renderCustomWidget.apply({},t.slice(1)):o();case"sendItem":return A.default.isActivated()?A.default.sendItem.apply({},t.slice(1)):o();case"setContext":return A.default.isActivated()?A.default.setContext.apply({},t.slice(1)):o();case"getHist":return A.default.isActivated()?l.default.getHistList.apply(l.default,t.slice(1)):o();case"setHist":return A.default.isActivated()?A.default.setHist.apply({},t.slice(1)):o();case"search":return j.default.search.apply({},t.slice(1));case"onload":return t[1]();case"monitorSearch":return A.default.isActivated()?A.default.monitorSearch.apply({},t.slice(1)):o();case"fpo":return q.fetchFloorPrice.apply(null,t.slice(1));case"pubadsRequested":return q.pubadsRequested.apply(null,t.slice(1))}},init:function(e,t){if(null==l.default.jsKey){if(t=t||{},l.default.jsKey=e,l.default.disabledCust[e])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");h.default.maybeRunEarlyExtension(),p.default.addEvent(window,"scroll",A.default.debounce(w.default.checkScroll,100)),t.fi&&(t.config={activity:{activityServer:"http://start.liftigniter.com"},sdk:{queryServer:"http://start.liftigniter.com",multiFetch:!0,enableBackup:!1},inventory:{inventoryServer:"http://start.liftigniter.com"}}),l.default.init(t.config),s.default.initializeCookies(),k.default.initializeTimers(),d.default.initializeDurationEvents(),C.default.initializeNavigationEvents(),l.default.extensionOff||h.default.maybeRunExtension(),l.default.inventory.collect&&p.default.domComplete(function(){try{O.default.collect()}catch(e){l.default.errorString=""+e,y.default.send("scraping_fail"),l.default.errorString=void 0,console.log("LiftIgniter: Error in inventory collection: "+e+" please check the JSON formatting for metadata; you can check formatting at http://jsonlint.com")}}),y.default.checkBuffer(),window.setInterval(function(){y.default.checkBuffer()},1e4)}},printDebugInfo:function(e){var t=Array.prototype.slice.call(arguments);switch(console.log("Debug Info: <"+e+">. Args:"),console.log(t.slice(1)),console.log("Results:"),e){case"config":console.log(l.default);break;case"scrapeFeature":console.log(_.default.scrapeFeature.apply({},t.slice(1)));break;case"scrapeInventory":console.log(O.default.scrapeInventory.apply({},t.slice(1)))}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=window.$igniter_var||window.$petametricsVar||window.$petametrics_var;t.default={trial:!1,extensionOff:!1,disabledCust:{"3ra9ebvgp1gnl9gu":!0,jo34k2op9eztyzj1:!0,llbf18lltc4upsf8:!0,"3f2nr8ipir0923el":!0,gn0ee46lqa6l86dv:!0,j8vr8s11slka1e3d:!0,u7nof0s7krrqfgav:!0},debug:!1,activity:{activityServer:"//query.petametrics.com",activitySamplingPercent:100,itemRegex:void 0,excludeRegex:void 0,includeBrowsingHistory:!1,canonicalUrlTransform:function(e){return e},urlTransform:function(e){return e}},useCanonicalUrl:!0,globalTracking:!0,disableCustomWidget:!1,noTag:!1,limitHistory:!1,sdk:{queryServer:"//query.petametrics.com",backupQueryServer:"//query1.petametrics.com",queryApiVersion:"v2",getQueryInfo:!1,requestFields:["url","author","title","rank","thumbnail"],mandatoryRequestFields:[],arrayRequestFields:[],mandatoryArrayRequestFields:[],fetchCalled:!1,multiFetch:!1,enableBackup:!0,requestFieldsAON:!1,customTrackFunc:void 0,widgetAnalysis:void 0,retry:!0,manualHist:void 0,iden:"url",historyTracking:!0,ogUrlHistory:!1,pushStateReset:!1,replaceStateReset:!1,stabilize:!1,pushStateCallback:function(){}},clickHist:{onLocalStorage:!0,onCookie:!1,urlTrans:function(e){return e},clickHistCKey:"_igch",clickHistLKey:"_igClkHis",cap:10,send:!1},longHist:{active:!1,bufferSize:100,recentDropSize:0},timing:{shownTimes:{},visibleTimes:{},clickTimes:{}},search:{queryServer:"//start.liftigniter.com",defaultQuery:"",max:10,off:0,requestFields:["url","title*","thumbnail","description*","image"]},fpo:{queryServer:"//fpo.petametrics.com",timeout:5e3},trackingTransURL:function(e){return e},customContext:{id:void 0},qOpt:{dynScrollInfo:!1,screenDim:!1,sendTimer:!0},shown:{active:!1,freqCap:3,vizCap:10,maxExclude:20,bufferSize:40,vizSendCap:void 0,freqCapKey:"_fcap"},inventory:{inventoryServer:"//query.petametrics.com",inventoryApiVersion:"v1",version:void 0,collect:!0,id:"url",collectJSON:!0,collectOpenGraph:!0,collectOpenGraphOnly:!0,mandatoryOpenGraphFeatures:["title","url","type"],features:void 0,mandatoryFeatures:["title","url"],filters:[{name:"noIndex",value:"true"}],useOpenGraphForCanonicalUrl:!0,useLinkRelForCanonicalUrl:!0,defaultType:"article",stripTagsForCanonicalUrl:!0,stripHashesForCanonicalUrl:!0,canonicalUrlTransform:function(e){return e},itemRegex:void 0,excludeRegex:void 0,ttl:0},customTrackFunc:void 0,pmVar:i,jsKey:null,loadedAt:window[i].l,version:"0.4",cookieDomain:o.default.getTopLevelDomain(((I11C || I10C).PreLocationContextProxy)(window).locat1on.hostname),thirdKey:"_igg",permKey:"_ig",sessKey:"_igt",sessRefKey:"_igsr",userRefKey:"_igur",histKey:"_igh",longHistKey:"_ighl",robustMsgSlot:"_igslot_",pisKey:"_ig_pis",siuKey:"_ig_siu",piuKey:"_ig_piu",cisKey:"_ig_cis",ciuKey:"_ig_ciu",dpisKey:"_ig_dpis",dpiuKey:"_ig_dpiu",iriuKey:"_ig_iriu",numPerKey:"_ig_nump",numSesKey:"_ig_sess",robustUseCookie:!0,robustUseStorage:!0,latestVizKey:"_iglviz_",lastClick:"_iglclk_",widgetClickContextKey:"_igwcc_",gid:null,uid:null,sid:null,pvid:null,hist:null,histSettings:{stripTags:!0,stripHashes:!0,stripDashes:!1,fixHttps:!1,deduplicate:!0,maxItems:10,histRegex:/(.*)/,origin:void 0,transform:function(e){return e},globalTransform:function(e){return e}},getHistList:function(){return this.sdk.manualHist?this.sdk.manualHist:this.hist?(this.hist=this.hist.split(",").join("|"),this.hist.split("|").map(function(e){return decodeURIComponent(e)})):[]},getClickHistList:function(){},globalCtx:{},adblockCheck:!1,adblocker:!1,userAgent:navigator.userAgent,language:navigator.language,os:navigator.platform,colorDepth:screen.colorDepth,screenHeight:screen.height,screenWidth:screen.width,currentUrl:((I11C || I10C).PreLocationContextProxy)(window).locat1on.href,referrer:document.referrer.slice(0,200),timers:{stuck_10s:1e4,stuck_3m:18e4},defaultApiEvents:["pageview","stuck_10s","stuck_3m"],refresh:function(){this.referrer=this.currentUrl,this.currentUrl=((I11C || I10C).PreLocationContextProxy)(window).locat1on.href},init:function(e){for(var t in e)this.hasOwnProperty(t)&&"object"==typeof this[t]&&!this[t].length?this[t]=o.default.mergeMap(this[t],e[t]):this[t]=e[t]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=a(e[n]);return t}if(e instanceof Object){t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=a(e[o]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}function o(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("getObjectKeys called on a non-object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);if(f)for(var r=0,a=c;r<a;r++){var o=d[r];e.hasOwnProperty(o)&&t.push(o)}return t}function i(e){return o(e).length}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4),u=r(l),s=window,f=!0,d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=d.length;for(var p in{toString:null})f=!1;t.default={generateUUID:function(){var e=u.default.getCurrentTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)});return t},swap:function(e){return e},getURLParameter:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(locat1on.href)||[null,""])[1].replace(/\+/g,"%20"))||null},mergeMap:function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},clone:a,getUrlPath:function(e,t){var n=e.replace(/https?:\/\/[^\/]+/i,"");return t?n:n.split("?")[0].split("#")[0]},getObjectKeys:o,size:i,getTopLevelDomain:function(e){var t=e.split(".");return"com"==t[t.length-1]?t.slice(-2).join("."):null},djb2HashCode:function(e){for(var t=5381,n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return Math.abs(t)},getTime:function(){return(new Date).getTime()},requestJsonp:function(e,t,n){var r="igniter_"+this.generateUUID().replace(/-/g,"");s[r]=function(t){e.apply(null,[t].concat(n||[]))};var a=t+(t.indexOf("?")>=0?"&":"?")+"jsonp="+r,o=document.createElement("script");o.type="text/javascript",o.setAttribute("src",a),document.head.appendChild(o)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getCurrentTime:function(){return(new Date).getTime()},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=document.cookie.indexOf("cookietest=")!=-1;return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}function o(e,t,n){i(e,t,n,1e3)}function i(e,t,n,r){r=r||864e5;var a="";if(n){var o=new Date;o.setTime(o.getTime()+n*r),a=";expires="+o.toGMTString()}var i=S.default.cookieDomain?";domain="+S.default.cookieDomain:"";u(e),document.cookie=e+"="+t+a+i+";path=/"}function l(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function u(e){var t=S.default.cookieDomain?";domain="+S.default.cookieDomain:"";document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"+t+";path=/",document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/"}function s(e){"string"==typeof e&&(S.default.uid=e,i(S.default.permKey,S.default.uid,365))}function f(e){"string"==typeof e&&(S.default.gid=e,i(S.default.thirdKey,e,365))}function d(){I.default.requestJsonp(f,S.default.activity.activityServer+"/gid")}function c(){var e=!1,t=!l(S.default.numPerKey),n=a();S.default.globalTracking&&(S.default.gid=l(S.default.thirdKey),(!S.default.gid||Math.random()<.05)&&d());var r=l(S.default.numPerKey),o=l(S.default.numSesKey);r=r?r.split(":"):[],o=o?o.split(":"):[],S.default.uid=l(S.default.permKey),S.default.piu=t?l(S.default.piuKey):r[0],S.default.siu=t?l(S.default.siuKey):r[1],S.default.dpiu=t?l(S.default.dpiuKey):r[2],S.default.iriu=t?l(S.default.iriuKey):r[3],S.default.ciu=t?l(S.default.ciuKey):r[4],S.default.npiu=t?l(S.default.npiuKey):r[5]||"0",S.default.pis=t?l(S.default.pisKey):o[0],S.default.dpis=t?l(S.default.dpisKey):o[1],S.default.cis=t?l(S.default.cisKey):o[2],t&&(r[0]=S.default.piu,r[1]=S.default.siu,r[2]=S.default.dpiu,r[3]=S.default.iriu,r[4]=S.default.ciu,r[5]="0",o[0]=S.default.pis,o[1]=S.default.dpis,o[2]=S.default.cis),S.default.cis||(o[2]="0"),S.default.ciu||(r[4]="0"),S.default.uid?(s(S.default.uid),S.default.piu?r[0]=m(r[0]):r[0]="1"):(e=!0,r[4]="0",r[5]="0",n?(s(I.default.generateUUID()),r[0]="1",r[1]="1",o[0]="1"):S.default.uid="fp:"),document.referrer&&""!=document.referrer?(S.default.dpiu||(r[2]="0"),S.default.dpis||(o[1]="0")):(S.default.dpiu?r[2]=m(r[2]):r[2]="1",S.default.dpis?o[1]=m(o[1]):o[1]="1");try{document.referrer&&""!=document.referrer&&document.referrer.split("/")[2]==((I11C || I10C).PreLocationContextProxy)(window).locat1on.href.split("/")[2]?S.default.iriu?r[3]=m(r[3]):r[3]="1":S.default.iriu||(r[3]="0")}catch(e){}S.default.sid=l(S.default.sessKey),S.default.sid?(S.default.siu||(r[1]="1"),e||(o[0]=m(o[0]))):(o[2]="0",S.default.pis||(o[0]="1"),e||(o[0]=m(o[0])),S.default.siu?e||(r[1]=m(r[1])):r[1]="1"),S.default.sid||(n?(S.default.sid=I.default.generateUUID(),i(S.default.sessKey,S.default.sid)):S.default.sid="fp:"),S.default.pvid=I.default.generateUUID(),S.default.sref=l(S.default.sessRefKey),S.default.sref||(n?(document.referrer&&""!=document.referrer?S.default.sref=document.referrer.slice(0,200):S.default.sref="-1",i(S.default.sessRefKey,S.default.sref)):S.default.sref="-1"),S.default.uref=l(S.default.userRefKey),S.default.uref||(n?(document.referrer&&""!=document.referrer?S.default.uref=document.referrer.slice(0,200):S.default.uref="-1",i(S.default.userRefKey,S.default.uref,365)):S.default.uref="-1"),S.default.customBrowsingHistory&&S.default.sdk.historyTracking?S.default.customBrowsingHistory():S.default.sdk.historyTracking&&p(),S.default.hist&&S.default.hist.split("|")&&S.default.hist.split("|").length&&(!r[5]||S.default.hist.split("|").length>r[5])?r[5]=S.default.hist.split("|").length.toString():S.default.viewType&&"new"==S.default.viewType&&(r[5]=m(r[5])),S.default.piu=r[0],S.default.siu=r[1],S.default.dpiu=r[2],S.default.iriu=r[3],S.default.ciu=r[4],S.default.npiu=r[5],S.default.pis=o[0],S.default.dpis=o[1],S.default.cis=o[2],y(r),y(o),i(S.default.numPerKey,r.join(":"),365),i(S.default.numSesKey,o.join(":")),i(S.default.permKey,S.default.uid,365)}function p(){S.default.hist=l(S.default.histKey);var e=S.default.histSettings.origin?S.default.histSettings.origin+((I11C || I10C).PreLocationContextProxy)(window).locat1on.pathname:((I11C || I10C).PreLocationContextProxy)(window).locat1on.href;if(S.default.sdk.ogUrlHistory){var t=document.querySelector("meta[property='og:url'][content]");t&&(e=t.getAttribute("content"))}if(S.default.histSettings.histRegex.test(e)){S.default.histSettings.stripTags&&(e=e.split("?")[0]),S.default.histSettings.stripHashes&&(e=e.split("#")[0]),S.default.histSettings.stripDashes&&(e=e.split("-")[0]),S.default.histSettings.fixHttps&&(e=e.replace("https://","http://")),S.default&&S.default.longHist&&S.default.longHist.active&&b.default.appendUrlToLongHist(e);var n=encodeURIComponent(S.default.histSettings.transform(e)),r=document.referrer||"";S.default.histSettings.stripTags&&(e=r.split("?")[0]),S.default.histSettings.stripHashes&&(r=r.split("#")[0]),S.default.histSettings.stripDashes&&(r=r.split("-")[0]),S.default.histSettings.fixHttps&&(r=r.replace("https://","http://"));var a=encodeURIComponent(r);if(S.default.hist){var o=S.default.hist.split(",").join("|").split("|"),u=!1,s=!1;(o[o.length-1]||"")===n&&(s=!0);for(var f=o.length-1;f>=0;f--)if(o[f]===n){u=!0;break}u&&S.default.histSettings.deduplicate||(o.length>=S.default.histSettings.maxItems&&(o=o.slice(1,S.default.histSettings.maxItems)),o.push(n)),S.default.hist=o.join("|"),n===a?S.default.viewType="selfReferenced":s?S.default.viewType="refresh":u?S.default.viewType="revisit":S.default.viewType="new"}else S.default.hist=n,S.default.viewType="new";i(S.default.histKey,S.default.hist,15)}}function g(){S.default.seriesHist=l(S.default.seriesHistKey);try{var e=document.querySelector("meta[property='video:series'][content]").getAttribute("content");if(S.default.currentSeries=e,S.default.seriesHist){for(var t=S.default.seriesHist.split(",").join("|").split("|").map(decodeURIComponent),n=!1,r=0;r<t.length;r++)if(t[r]===e){n=!0;break}n||(t.length>=10&&(t=t.slice(1,10)),t.push(e)),S.default.seriesHist=t.map(encodeURIComponent).join("|")}else S.default.seriesHist=encodeURIComponent(e);i(S.default.seriesHistKey,S.default.seriesHist,60)}catch(e){S.default.debug&&console.log("Either the scraped series does not exist or we had a problem updating the series history")}}function h(){try{var e=l(S.default.numSesKey).split(":"),t=l(S.default.numPerKey).split(":");S.default.cis?(S.default.cis=m(S.default.cis),e[2]=S.default.cis):(S.default.cis="1",e[2]=S.default.cis),i(S.default.numSesKey,e.join(":")),S.default.ciu?(S.default.ciu=m(S.default.ciu),t[4]=S.default.ciu):(S.default.ciu="1",t[4]=S.default.ciu),i(S.default.numPerKey,t.join(":"),365)}catch(e){}}function m(e){var t=(e- -1).toString();return"NaN"===t&&(t="1"),t}function y(e){for(var t=0;t<e.length;t++)"NaN"===e[t]&&(e[t]="1")}function v(e,t,n){var r=S.default.clickHist.clickHistCKey,a=decodeURIComponent(l(r)),o="null"!==a?a.split(","):[],u=S.default.clickHist.cap||10,s=!1,f=S.default.clickHist.urlTrans(e);if(o=o.slice(Math.max(o.length-u,0),o.length),null!==f&&void 0!==f&&""!==f){for(var d=0;d<o.length;d++)o[d].split("|")[0]===f&&(s=!0);s||(o.length>=u&&o.shift(),o.push(f+"|"+t+"|"+n)),i(r,encodeURIComponent(o.join(",")),365)}}Object.defineProperty(t,"__esModule",{value:!0});var w=n(2),S=r(w),k=n(6),b=r(k),x=n(3),I=r(x);t.default={setGlobalId:f,setUserId:s,createCookie:i,readCookie:l,deleteCookie:u,initializeCookies:c,initializeSeriesHistCookie:g,hasCookiesEnabled:a,getItem:l,setItem:o,removeItem:u,maxMsgSlot:3,name:"cookie",updateClickIndex:h,updateBrowsingHistory:p,appendToClickHist:v},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function o(){var e="test";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}function i(e){var t,n,r,a=0;if(0==e.length)return a;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),a=(a<<5)-a+n,a|=0;return a}function l(e){for(var t=JSON.parse(m(v.default.shown.freqCapKey))||[],n=0;n<e.length;++n){for(;t.length>=v.default.shown.bufferSize;)t.shift();t.push(i(e[n].split("?")[0].split("#")[0]))}g(v.default.shown.freqCapKey,JSON.stringify(t))}function u(){for(var e=JSON.parse(m(v.default.shown.freqCapKey))||[],t={},n=[],r=e.length;--r>=0&&n.length<v.default.shown.maxExclude;){var a=e[r];t[a]?t[a]+=1:t[a]=1,t[a]>=v.default.shown.freqCap&&n.indexOf(a)==-1&&n.push(a)}var o=[];return n.forEach(function(e){o.push(e)}),JSON.stringify(o)}function s(e){var t="http://www.ozy.com/acumen/";if(0!=e.indexOf(t))d(e);else{var n=e.replace("/ozy-ted-","/"),r=n.replace(t,""),a=t+r,o=t+"ozy-ted-"+r;d(a),d(o)}}function f(e,t,n){var r=v.default.clickHist.clickHistLKey||"_igClkHis",a=JSON.parse(m(r))||[],o=v.default.clickHist.cap||10,i=!1,l=v.default.clickHist.urlTrans(e);if(a=a.slice(Math.max(a.length-o,0),a.length),null!==l&&void 0!==l&&""!==l){for(var u=0;u<a.length;u++)a[u].split("|")[0]===l&&(i=!0);i||(a.length>=o&&a.shift(),a.push(l+"|"+t+"|"+n)),g(r,JSON.stringify(a))}}function d(e){for(var t=JSON.parse(m(v.default.longHistKey))||[],n=i(e),r=t.length,a=!1,o=0;o<r;++o)if(t[o]==n){a=!0;for(var l=o+1;l<r;++l)t[l-1]=t[l];t[r-1]=n;break}if(!a){for(;t.length>=v.default.longHist.bufferSize;)t.shift();t.push(n)}g(v.default.longHistKey,JSON.stringify(t))}function c(){var e=m(v.default.longHistKey)||JSON.stringify([]);if(v.default.longHist.dropRecent>0){var t=JSON.parse(e).length;t>=v.default.longHist.dropRecent?e=JSON.stringify(JSON.parse(e).slice(0,t-v.default.longHist.dropRecent)):JSON.stringify([])}return e}function p(){try{S.setItem("_igst","8");var e="8"==S.getItem("_igst");return S.removeItem("_igst"),e}catch(e){return!1}}function g(e,t,n){S.setItem(e,t),n&&S.setItem(e+b,(new Date).getTime()+1e3*n)}function h(e){S.removeItem(e),S.removeItem(e+b)}function m(e){var t=S.getItem(e+b);return!t||t>=(new Date).getTime()?S.getItem(e)||null:(h(e),null)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(2),v=r(y),w=window,S=a()?w.localStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},k=o()?w.sessionStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},b="expireTimestamp";t.default={hasStorageEnabled:p,setItem:g,getItem:m,removeItem:h,maxMsgSlot:10,name:"session_storage",storeVisibleElements:l,getFrequent:u,appendUrlToLongHist:s,getLongHist:c,appendToClickHist:f,sessStorage:k},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){c&&(d+=1*new Date-c,c=!1)}function o(){l.default.addEvent(f,"blur",function(){a()}),l.default.addEvent(f,"focus",function(){c=1*new Date})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),l=r(i),u=n(2),s=r(u),f=window,d=0,c=s.default.loadedAt;t.default={getDuration:function(){return d},stopDuration:a,initializeDurationEvents:o},e.exports=t.default},function(e,t){"use strict";function n(e){/in[^t]/.test(document.readyState)?o.setTimeout(function(){n(e)},100):e()}function r(e){/complete/.test(document.readyState)?e():o.setTimeout(function(){r(e)},100)}function a(e,t){e()?t():o.setTimeout(function(){a(e,t)},50)}Object.defineProperty(t,"__esModule",{value:!0});var o=window;t.default={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){return n.call(e,o.event)})},domReady:n,domComplete:r,doWhenReady:a},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){g[e]=t}function o(e,t){h[e]=t}function i(e,t){m[e]=t}function l(e){var t={dedupGid:"0"};return e.widgets||(e.widgets={}),e.widgets["default-widget"]=t,e.itemRegex||(e.itemRegex=".+"),e}function u(){return l(p.default.jsKey in m?m[p.default.jsKey]:{})}function s(){p.default.jsKey in g&&"undefined"!=typeof g[p.default.jsKey].run&&g[p.default.jsKey].run()}function f(e){p.default.jsKey in g&&"undefined"!=typeof g[p.default.jsKey].render&&g[p.default.jsKey].render(e)}function d(){p.default.jsKey in h&&"undefined"!=typeof h[p.default.jsKey].run&&h[p.default.jsKey].run()}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),p=r(c),g={},h={},m={};t.default={addExtension:a,addWidgetData:i,getWidgetData:u,addEarlyExtension:o,maybeRunExtension:s,maybeRunEarlyExtension:d,maybeRunExtensionRender:f,reset:function(){g={},h={}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n,t=t||{};n="li_act_server"in t?t.li_act_server:g.default.activity.activityServer;var r=n+"/__activity.gif?";if(r+="e="+encodeURIComponent(e),"widget_click"==e&&(g.default.clickHist.onLocalStorage&&S.default.appendToClickHist(t.clickUrl,t.w,t.source),g.default.clickHist.onCookie&&v.default.appendToClickHist(t.clickUrl,t.w,t.source),v.default.hasCookiesEnabled()&&v.default.updateClickIndex()),g.default.shown.vizSendCap&&("widget_shown"==e||"widget_visible"==e||"widget_click"==e)&&Array.isArray(t.vi)&&(t.vi=t.vi.slice(0,g.default.shown.vizSendCap)),"conversion"==e&&!t.source){var a=b.default.getURLParameter("li_source"),o=b.default.getURLParameter("li_medium");a&&(t.source=a),o&&(t.w=o)}for(var i in t)t.hasOwnProperty(i)&&(r+="[object Array]"===Object.prototype.toString.call(t[i])?"&"+i+"="+encodeURIComponent(JSON.stringify(t[i])):"&"+i+"="+encodeURIComponent(t[i]));for(var l in g.default.globalCtx)g.default.globalCtx.hasOwnProperty(l)&&(r+="[object Array]"===Object.prototype.toString.call(g.default.globalCtx[l])?"&"+l+"="+encodeURIComponent(JSON.stringify(g.default.globalCtx[l])):"&"+l+"="+encodeURIComponent(g.default.globalCtx[l]));return r+="&"+m.default.forCurrentExample()}function o(e){S.default.setItem(g.default.latestVizKey,JSON.stringify(e))}function i(){return S.default.getItem(g.default.latestVizKey)}function l(e,t){"widget_click"==e?!f(e,t):u(e,t)}function u(e,t){try{if(g.default.activity.activitySamplingPercent<100&&b.default.djb2HashCode(g.default.uid)%100>g.default.activity.activitySamplingPercent)return;var n=((I11C || I10C).PreLocationContextProxy)(window).locat1on.href;if(n&&g.default.defaultApiEvents&&"-1"!=g.default.defaultApiEvents.indexOf(e)){if(g.default.activity.itemRegex&&null===n.match(g.default.activity.itemRegex))return;if(g.default.activity.excludeRegex&&null!==n.match(g.default.activity.excludeRegex))return}if(g.default.jsKey||console.log("LiftIgniter send called before LiftIgniter init. The most typical reason for this is if you are including our Javascript snippet twice (this could be twice on the page, or once on the page and once in Google Tag Manager, or twice in Google Tag Manager). If you have more questions, please contact support@liftigniter.com"),g.default.disabledCust[g.default.jsKey])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(g.default.jsKey&&!g.default.disabledCust[g.default.jsKey]){var r=new Image;r.src=a(e,t)}}catch(t){console.log("Unexpected error when trying to send event "+e,t)}}function s(){return g.default.robustUseStorage?S.default.getItem(g.default.lastClick):g.default.robustUseCookie?v.default.getItem(g.default.lastClick):void 0}function f(e,t){function n(e,t,n){n=b.default.mergeMap(n,{method:"send_robust",buffer:e.name});var r=a(t,n);e.setItem(g.default.lastClick,r);for(var o=0;o<e.maxMsgSlot&&e.getItem(g.default.robustMsgSlot+o);o++);return o<e.maxMsgSlot&&e.setItem(g.default.robustMsgSlot+o,r,120),r==e.getItem(g.default.robustMsgSlot+o)&&(d(e,o),!0)}if(!(g.default.activity.activitySamplingPercent<100&&b.default.djb2HashCode(g.default.uid)%100>g.default.activity.activitySamplingPercent)){if(!g.default.jsKey)throw"Petametrics.send called before Petametrics.init";return!(!g.default.robustUseStorage||!n(S.default,e,t))||!(!g.default.robustUseCookie||!n(v.default,e,t))}}function d(e,t){var n=e.getItem(g.default.robustMsgSlot+t);if(n){var r=function(){e.removeItem(g.default.robustMsgSlot+t)},a=new Image;a.onload=r,a.src=n}}function c(){for(var e=0;e<v.default.maxMsgSlot;e++)d(v.default,e);for(var e=0;e<S.default.maxMsgSlot;e++)d(S.default,e)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),g=r(p),h=n(11),m=r(h),y=n(5),v=r(y),w=n(6),S=r(w),k=n(3),b=r(k);t.default={send:l,getUrl:a,sendRobust:f,checkBuffer:c,storeLatestVisibleItems:o,getLatestVisibleItems:i,getLastClick:s},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(((I11C || I10C).PreLocationContextProxy)(window).locat1on.search);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function o(e,t){t=t||"&";var n=a(e);return n?t+e+"="+n:""}function i(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",a=n[1].split(/[&;]/g),o=a.length;o-- >0;)a[o].lastIndexOf(r,0)!==-1&&a.splice(o,1);return e=n[0]+(a.length>0?"?"+a.join("&"):"")}return e}function l(e){return"ts="+encodeURIComponent(h.default.getCurrentTime())+"&jsk="+encodeURIComponent(s.default.jsKey)+"&jsv="+encodeURIComponent(s.default.version)+"&cu="+(e?s.default.activity.urlTransform(s.default.frontPageBoost):encodeURIComponent(s.default.activity.urlTransform(s.default.currentUrl)))+(s.default.errorString?"&errs="+s.default.errorString:"")}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),s=r(u),f=n(12),d=r(f),c=n(13),p=r(c),g=n(4),h=r(g),m=n(14),y=(r(m),n(15)),v=(r(y),n(6)),w=r(v),S=n(5),k=r(S);t.default={forCurrentExample:function(e){var t="",n="",r="",a="";if(s.default.qOpt.dynScrollInfo)try{t="&sppx="+encodeURIComponent(d.default.maxVertScrollPos())+"&sppc="+encodeURIComponent(d.default.maxVertScrollPct())+"&dh="+encodeURIComponent(d.default.getDocHeight())+"&iwid="+encodeURIComponent(window.innerWidth)+"&ihei="+encodeURIComponent(window.innerHeight);
}catch(e){}try{var o;o=s.default.histSettings.origin?"&ccu="+encodeURIComponent(s.default.activity.canonicalUrlTransform(s.default.histSettings.origin+((I11C || I10C).PreLocationContextProxy)(window).locat1on.pathname)):s.default.customContext.id?"&ccu="+encodeURIComponent(s.default.customContext.id):s.default.useCanonicalUrl?"&ccu="+(e?encodeURIComponent(s.default.frontPageBoost):encodeURIComponent(s.default.activity.canonicalUrlTransform(p.default.getCanonicalUrl()))):"",n="&ct="+encodeURIComponent(p.default.getCurrentTitle())+o}catch(e){console.log(e)}try{var i="";s.default.viewType&&(i="&vt="+s.default.viewType);var u="";s.default.clickHist.send&&(s.default.clickHist.onLocalStorage?u="&clkHist="+w.default.getItem(s.default.clickHist.clickHistLKey):s.default.clickHist.onCookie&&(u="&clkHist="+JSON.stringify(k.default.readCookie(s.default.clickHist.clickHistCKey).split(",")))),r=i+u}catch(e){}try{s.default.currentSeries&&""!=s.default.currentSeries&&void 0!==s.default.currentSeries&&(a="&currentSeries="+encodeURIComponent(s.default.currentSeries))}catch(e){}var f=s.default.sdk.manualHist?encodeURIComponent(JSON.stringify(s.default.sdk.manualHist)):encodeURIComponent(JSON.stringify(s.default.getHistList()));return l()+(s.default.gid?"&gid="+encodeURIComponent(s.default.gid):"")+"&uid="+encodeURIComponent(s.default.uid)+"&sid="+encodeURIComponent(s.default.sid)+"&pvid="+encodeURIComponent(s.default.pvid)+(s.default.activity.includeBrowsingHistory?"&hist="+f:"")+"&tzo="+encodeURIComponent(h.default.getTimezoneOffset())+"&ua="+encodeURIComponent(s.default.userAgent)+"&l="+encodeURIComponent(s.default.language)+"&os="+encodeURIComponent(s.default.os)+(s.default.qOpt.screenDim?"&scd="+encodeURIComponent(s.default.colorDepth)+"&scrh="+encodeURIComponent(s.default.screenHeight)+"&scrw="+encodeURIComponent(s.default.screenWidth):"")+"&ref="+encodeURIComponent(s.default.referrer)+"&sref="+encodeURIComponent(s.default.sref)+"&uref="+encodeURIComponent(s.default.uref)+"&pis="+encodeURIComponent(s.default.pis)+"&siu="+encodeURIComponent(s.default.siu)+"&piu="+encodeURIComponent(s.default.piu)+(s.default.npiu?"&npiu="+encodeURIComponent(s.default.npiu):"")+(s.default.cis?"&cis="+encodeURIComponent(s.default.cis):"")+(s.default.ciu?"&ciu="+encodeURIComponent(s.default.ciu):"")+(s.default.dpis?"&dpis="+encodeURIComponent(s.default.dpis):"")+(s.default.dpiu?"&dpiu="+encodeURIComponent(s.default.dpiu):"")+(s.default.iriu?"&iriu="+encodeURIComponent(s.default.iriu):"")+t+n+r+a+(s.default.customInfo?s.default.customInfo():"")},getParam:a,copyParam:o,removeParam:i,basicParam:l},e.exports=t.default},function(e,t){"use strict";function n(){var e=document.body;return document&&document.scrollTop||e&&e.scrollTop||0}function r(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight||0,t.scrollHeight||0,e.offsetHeight||0,t.offsetHeight||0,e.clientHeight||0,t.clientHeight||0)}function a(){var e=document.body,t=document.documentElement;return window.innerHeight||t.clientHeight||e.clientHeight||0}function o(){var e=(n()+a())/r()*100;return e>=100?100:e<=0?0:e}function i(){var e=n();e>l&&(l=e);var t=o();t>u&&(u=Math.floor(t))}Object.defineProperty(t,"__esModule",{value:!0});var l=0,u=0;t.default={getDocHeight:r,getWinHeight:a,getVertScrollPos:n,getVertScrollPct:o,checkScroll:i,maxVertScrollPos:function(){return l},maxVertScrollPct:function(){return u},reset:function(){u=0,l=0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t="undefined"!=typeof t&&t;for(var n=[],r=x.querySelectorAll(e),a=0;a<r.length;a++)n.push(r[a].textContent);return t?n:n[0]}function o(e,t,n){n="undefined"!=typeof n&&n;for(var r=[],a=x.querySelectorAll(e),o=0;o<a.length;o++)r.push(a[o].getAttribute(t));return n?r:r[0]}function i(e,t){for(var n=!0;n;){var r=e,a=t;if(n=!1,0==a.length)return r;e=r[a[0]],t=a.slice(1),n=!0}}function l(e){return i(b,e.split("."))}function u(e,t){if("undefined"!=typeof t){var n=[],r=t.exec(e);if(t.global)for(;r;)n=n.concat(r.slice(1)),r=t.exec(e);else n=r.slice(1);return n}return[e]}function s(e){for(var t={},n=x.querySelectorAll("meta[property^='"+e+":'][content]"),r=0;r<n.length;r++){var a=n[r].getAttribute("property").slice(e.length+1),o=t[a]||[];o.push(n[r].getAttribute("content")),t[a]=o}return t}function f(){var e=s("og");if(void 0!=e.type){var t=e.type[0].split(".")[0],n=k.default.inventory.defaultType;switch(t){case"article":case"video":case"book":case"music":e=w.default.mergeMap(s(t),e);break;default:e=w.default.mergeMap(s(n),e)}}return e}function d(){var e=x.querySelector("#liftigniter-metadata");if(e){var t=JSON.parse(e.textContent);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if("number"!=typeof r){r=[].concat(r);for(var a=0;a<r.length;a++)r[a]=r[a].toString()}}return t}return{}}function c(e){var t,n=[];try{if("text"==e.type?t=a(e.selector,!0):"attribute"==e.type?t=o(e.selector,e.attribute,!0):"url"==e.type?t=((I11C || I10C).PreLocationContextProxy)(b).locat1on.href:"var"==e.type&&(t=[l(e.variable).toString()]),t)for(var r=0;r<t.length;r++){var i=t[r];"function"==typeof e.transform&&(i=e.transform(i)),i=u(i,e.regex),"undefined"!=typeof e.joinWith&&(i=[i.join(e.joinWith)]),n=n.concat(i)}}catch(e){n=[]}return n}function p(){var e=x.querySelector("meta[property='og:title'][content]");return e?e.getAttribute("content"):g()||"-1"}function g(){var e=x.getElementsByTagName("title");if(e.length>0)return e[0].textContent}function h(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host+t.pathname+t.search+t.hash}function m(){function e(){if(k.default.inventory.useOpenGraphForCanonicalUrl&&(e=x.querySelector("meta[property='og:url'][content]")))return e.getAttribute("content");if(k.default.inventory.useLinkRelForCanonicalUrl){var e=x.querySelector("link[rel=canonical][href]");if(e)return h(e.getAttribute("href"))}var t=((I11C || I10C).PreLocationContextProxy)(b).locat1on.href;return k.default.inventory.stripTagsForCanonicalUrl&&(t=t.split("?")[0]),k.default.inventory.stripHashesForCanonicalUrl&&(t=t.split("#")[0]),t}return y||(y=k.default.inventory.canonicalUrlTransform(e())),y}Object.defineProperty(t,"__esModule",{value:!0});var y,v=n(3),w=r(v),S=n(2),k=r(S),b=window,x=document;t.default={getCurrentTitle:p,getTitleFallback:g,getCanonicalUrl:m,getText:a,getAttribute:o,scrapeFeature:c,scrapeOpenGraph:f,scrapeJSON:d},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={randomString:function(){return Math.random().toString(36).substr(2,16)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,a,o,i;return a=2147483648&e,o=2147483648&t,n=1073741824&e,r=1073741824&t,i=(1073741823&e)+(1073741823&t),n&r?2147483648^i^a^o:n|r?1073741824&i?3221225472^i^a^o:1073741824^i^a^o:i^a^o}function r(e,t,n){return e&t|~e&n}function a(e,t,n){return e&n|t&~n}function o(e,t,n){return e^t^n}function i(e,t,n){return t^(e|~n)}function l(e,a,o,i,l,u,s){return e=n(e,n(n(r(a,o,i),l),s)),n(t(e,u),a)}function u(e,r,o,i,l,u,s){return e=n(e,n(n(a(r,o,i),l),s)),n(t(e,u),r)}function s(e,r,a,i,l,u,s){return e=n(e,n(n(o(r,a,i),l),s)),n(t(e,u),r)}function f(e,r,a,o,l,u,s){return e=n(e,n(n(i(r,a,o),l),s)),n(t(e,u),r)}function d(e){for(var t,n=e.length,r=n+8,a=(r-r%64)/64,o=16*(a+1),i=Array(o-1),l=0,u=0;u<n;)t=(u-u%4)/4,l=u%4*8,i[t]=i[t]|e.charCodeAt(u)<<l,u++;return t=(u-u%4)/4,l=u%4*8,i[t]=i[t]|128<<l,i[o-2]=n<<3,i[o-1]=n>>>29,i}function c(e){var t,n,r="",a="";for(n=0;n<=3;n++)t=e>>>8*n&255,a="0"+t.toString(16),r+=a.substr(a.length-2,2);return r}function p(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}var g,h,m,y,v,w,S,k,b,x=Array(),I=7,C=12,R=17,T=22,_=5,U=9,O=14,E=20,A=4,P=11,H=16,j=23,D=6,q=10,M=15,K=21;for(e=p(e),x=d(e),w=1732584193,S=4023233417,k=2562383102,b=271733878,g=0;g<x.length;g+=16)h=w,m=S,y=k,v=b,w=l(w,S,k,b,x[g+0],I,3614090360),b=l(b,w,S,k,x[g+1],C,3905402710),k=l(k,b,w,S,x[g+2],R,606105819),S=l(S,k,b,w,x[g+3],T,3250441966),w=l(w,S,k,b,x[g+4],I,4118548399),b=l(b,w,S,k,x[g+5],C,1200080426),k=l(k,b,w,S,x[g+6],R,2821735955),S=l(S,k,b,w,x[g+7],T,4249261313),w=l(w,S,k,b,x[g+8],I,1770035416),b=l(b,w,S,k,x[g+9],C,2336552879),k=l(k,b,w,S,x[g+10],R,4294925233),S=l(S,k,b,w,x[g+11],T,2304563134),w=l(w,S,k,b,x[g+12],I,1804603682),b=l(b,w,S,k,x[g+13],C,4254626195),k=l(k,b,w,S,x[g+14],R,2792965006),S=l(S,k,b,w,x[g+15],T,1236535329),w=u(w,S,k,b,x[g+1],_,4129170786),b=u(b,w,S,k,x[g+6],U,3225465664),k=u(k,b,w,S,x[g+11],O,643717713),S=u(S,k,b,w,x[g+0],E,3921069994),w=u(w,S,k,b,x[g+5],_,3593408605),b=u(b,w,S,k,x[g+10],U,38016083),k=u(k,b,w,S,x[g+15],O,3634488961),S=u(S,k,b,w,x[g+4],E,3889429448),w=u(w,S,k,b,x[g+9],_,568446438),b=u(b,w,S,k,x[g+14],U,3275163606),k=u(k,b,w,S,x[g+3],O,4107603335),S=u(S,k,b,w,x[g+8],E,1163531501),w=u(w,S,k,b,x[g+13],_,2850285829),b=u(b,w,S,k,x[g+2],U,4243563512),k=u(k,b,w,S,x[g+7],O,1735328473),S=u(S,k,b,w,x[g+12],E,2368359562),w=s(w,S,k,b,x[g+5],A,4294588738),b=s(b,w,S,k,x[g+8],P,2272392833),k=s(k,b,w,S,x[g+11],H,1839030562),S=s(S,k,b,w,x[g+14],j,4259657740),w=s(w,S,k,b,x[g+1],A,2763975236),b=s(b,w,S,k,x[g+4],P,1272893353),k=s(k,b,w,S,x[g+7],H,4139469664),S=s(S,k,b,w,x[g+10],j,3200236656),w=s(w,S,k,b,x[g+13],A,681279174),b=s(b,w,S,k,x[g+0],P,3936430074),k=s(k,b,w,S,x[g+3],H,3572445317),S=s(S,k,b,w,x[g+6],j,76029189),w=s(w,S,k,b,x[g+9],A,3654602809),b=s(b,w,S,k,x[g+12],P,3873151461),k=s(k,b,w,S,x[g+15],H,530742520),S=s(S,k,b,w,x[g+2],j,3299628645),w=f(w,S,k,b,x[g+0],D,4096336452),b=f(b,w,S,k,x[g+7],q,1126891415),k=f(k,b,w,S,x[g+14],M,2878612391),S=f(S,k,b,w,x[g+5],K,4237533241),w=f(w,S,k,b,x[g+12],D,1700485571),b=f(b,w,S,k,x[g+3],q,2399980690),k=f(k,b,w,S,x[g+10],M,4293915773),S=f(S,k,b,w,x[g+1],K,2240044497),w=f(w,S,k,b,x[g+8],D,1873313359),b=f(b,w,S,k,x[g+15],q,4264355552),k=f(k,b,w,S,x[g+6],M,2734768916),S=f(S,k,b,w,x[g+13],K,1309151649),w=f(w,S,k,b,x[g+4],D,4149444226),b=f(b,w,S,k,x[g+11],q,3174756917),k=f(k,b,w,S,x[g+2],M,718787259),S=f(S,k,b,w,x[g+9],K,3951481745),w=n(w,h),S=n(S,m),k=n(k,y),b=n(b,v);var F=c(w)+c(S)+c(k)+c(b);return F.toLowerCase()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=window,s=[];t.default={initializeTimers:function(){if(o.default.qOpt.sendTimer&&o.default.timers)for(var e in o.default.timers)this.sendLater(e,o.default.timers[e])},clearTimers:function(){for(var e=0;e<s.length;e++)u.clearTimeout(s[e])},sendLater:function(e,t){s.push(u.setTimeout(function(){var t={w:l.default.getURLParameter("li_medium"),source:l.default.getURLParameter("li_source")};u[o.default.pmVar]("send",e,t)},t))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){t=t||{};var a=e.getAttribute(n)||e.getAttribute("data-"+n);return a?a:t.hasOwnProperty(n)?t[n]:r}function o(e,t,n){try{var r=n||"li",a=e.href;a.indexOf(r+"_")>=0&&(a=y.default.removeParam(a,r+"_source"),a=y.default.removeParam(a,r+"_medium")),e.href=a+(a.indexOf("?")>=0?"&":"?")+(t.source?r+"_source="+t.source:"")+(t.w?"&"+r+"_medium="+t.w:"")}catch(e){console.log("Error tagging anchors. This usually happens when were unable to find any anchors in the tracked area. It could be because you are tracking the incorrect area, or it could be because the content loads dynamically. Click tracking may still work but we won't be able to determine the click URL."),h.default.errorString=""+e,I.default.send("widget_tracking_error",t),h.default.errorString=void 0}}function i(e,t,n,r){if(!(A[e].numUnitsToTag<=0)){var a=Array.prototype.slice.call(t.querySelectorAll(n));a&&a.length>0&&A[e].numUnitsToTag-- >0&&a.forEach(function(e){o(e,r)})}}function l(e,t,n){var r=A[e].el,l=S.default.clone(A[e].opts);if(!l.noCollectWidgetInfo){if(l["max-link"]=a(r,l,"max-link",t.maxLink),l["collect-link-selector"]=a(r,l,"collect-link-selector",t.collectLinkSelector),l["tag-unit-max"]=l["tag-unit-max"]||t.tagUnitMax||1e5,l["tag-unit-selector"]=l["tag-unit-selector"]||t.tagUnitSelector,l["tag-link-selector"]=a(r,l,"tag-link-selector",t.tagLinkSelector),l.noTag=l.noTag||t.noTag||h.default.noTag||!1,n=n||{},n.w=A[e].name,!l.noTag){var u=l["tag-link-selector"];l["tag-unit-selector"]?(A[e].numUnitsToTag=l["tag-unit-max"],Array.prototype.slice.call(r.querySelectorAll(l["tag-unit-selector"])).forEach(function(t){i(e,t,u,n)}),b.default.addEvent(r,"DOMNodeInserted",function(t){var r=document.createElement("div");r.innerHTML=t.target.outerHTML||"",r.querySelector(l["tag-unit-selector"])&&i(e,t.target,u,n)})):Array.prototype.slice.call(r.querySelectorAll(u)).forEach(function(e){o(e,n)})}var s=Array.prototype.slice.call(r.querySelectorAll(l["collect-link-selector"])).map(function(e){return e.href}).filter(function(e){return e}).slice(0,l["max-link"]);l.noClickTracking||(c(r,l,n,s),f(r,l,n,e));var d=S.default.mergeMap(n,{vi:JSON.stringify(s)});I.default.storeLatestVisibleItems(s),I.default.send("widget_shown",d)}}function u(e,t,n,r){var a=S.default.mergeMap({clickUrl:h.default.trackingTransURL(e.href)},n);"function"==typeof h.default.sdk.widgetAnalysis&&(a=h.default.sdk.widgetAnalysis(e,a)),b.default.addEvent(e,"click",function(e){a.trigger="click",d(e,t,a,r)}),b.default.addEvent(e,"contextmenu",function(e){a.trigger="contextmenu",d(e,t,a,r)})}function s(e,t,n,r,a){if(!(A[e].numUnitsToTrack<=0)){var o=Array.prototype.slice.call(t.querySelectorAll(n));o&&o.length>0&&A[e].numUnitsToTrack-- >0&&o.forEach(function(e){u(e,r,a)})}}function f(e,t,n,r){var a=t["tag-link-selector"];t["tag-unit-selector"]?(A[r].numUnitsToTrack=t["tag-unit-max"],Array.prototype.slice.call(e.querySelectorAll(t["tag-unit-selector"])).forEach(function(e){s(r,e,a,t,n)}),b.default.addEvent(e,"DOMNodeInserted",function(e){var o=document.createElement("div");o.innerHTML=e.target.outerHTML||"",o.querySelector(t["tag-unit-selector"])&&s(r,e.target,a,t,n)})):Array.prototype.slice.call(e.querySelectorAll(a)).forEach(function(e){u(e,t,n)})}function d(e,t,n,r){var a=n.tType||"widget",o=n.w||"default-widget";try{performance&&performance.now&&(h.default.timing.clickTimes[o]=0|performance.now(),n.tsv=(h.default.timing.clickTimes[o]||0)-(h.default.timing.visibleTimes[o]||0),n.tss=(h.default.timing.clickTimes[o]||0)-(h.default.timing.shownTimes[o]||0))}catch(e){console.log("Encountered unexpected error when adding performance information to visible event: ",e)}r&&alert("click for "+n.w+":"+n.source),I.default.sendRobust(a+"_click",n)||(n=S.default.mergeMap(n,{method:"on_page"}),I.default.send(a+"_click",n),e.metaKey||e.shiftKey||"click"!=e.type||(e.preventDefault(),O.setTimeout(function(){((I11C || I10C).PreLocationContextProxy)(O).locat1on.href=n.clickUrl},100)))}function c(e,t,n,r){var o=function(){_.default.isElementVisible(e)&&!a(e,t,"visible",!1)&&(I.default.send("widget_visible",n),e.setAttribute("data-visible","1"),R.default.storeVisibleElements(r))};b.default.addEvent(E,"DOMContentLoaded",o),b.default.addEvent(E,"load",o),b.default.addEvent(E,"resize",o),b.default.addEvent(E,"scroll",o)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(18),g=(r(p),n(2)),h=r(g),m=n(11),y=r(m),v=n(9),w=(r(v),n(3)),S=r(w),k=n(8),b=r(k),x=n(10),I=r(x),C=n(6),R=r(C),T=n(19),_=r(T),U=n(5),O=(r(U),window),E=document,A={};t.default={widgets:A,collectWidgetInfo:l,tagAnchor:o,trackAnchor:u,onClick:d},e.exports=t.default},function(e,t,n){var r,a,o;/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
!function(n,i){"object"==typeof t&&t&&"string"!=typeof t.nodeName?i(t):(a=[t],r=i,o="function"==typeof r?r.apply(t,a):r,!(void 0!==o&&(e.exports=o)))}(this,function(e){function t(e){return"function"==typeof e}function n(e){return h(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"==typeof e&&t in e}function o(e,t){return m.call(e,t)}function i(e){return!o(y,e)}function l(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return v[e]})}function u(t,n){function a(){if(y&&!v)for(;m.length;)delete g[m.pop()];else m=[];y=!1,v=!1}function o(e){if("string"==typeof e&&(e=e.split(S,2)),!h(e)||2!==e.length)throw new Error("Invalid tags: "+e);l=new RegExp(r(e[0])+"\\s*"),u=new RegExp("\\s*"+r(e[1])),c=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var l,u,c,p=[],g=[],m=[],y=!1,v=!1;o(n||e.tags);for(var I,C,R,T,_,U,O=new d(t);!O.eos();){if(I=O.pos,R=O.scanUntil(l))for(var E=0,A=R.length;E<A;++E)T=R.charAt(E),i(T)?m.push(g.length):v=!0,g.push(["text",T,I,I+1]),I+=1,"\n"===T&&a();if(!O.scan(l))break;if(y=!0,C=O.scan(x)||"name",O.scan(w),"="===C?(R=O.scanUntil(k),O.scan(k),O.scanUntil(u)):"{"===C?(R=O.scanUntil(c),O.scan(b),O.scanUntil(u),C="&"):R=O.scanUntil(u),!O.scan(u))throw new Error("Unclosed tag at "+O.pos);if(_=[C,R,I,O.pos],g.push(_),"#"===C||"^"===C)p.push(_);else if("/"===C){if(U=p.pop(),!U)throw new Error('Unopened section "'+R+'" at '+I);if(U[1]!==R)throw new Error('Unclosed section "'+U[1]+'" at '+I)}else"name"===C||"{"===C||"&"===C?v=!0:"="===C&&o(R)}if(U=p.pop())throw new Error('Unclosed section "'+U[1]+'" at '+O.pos);return f(s(g))}function s(e){for(var t,n,r=[],a=0,o=e.length;a<o;++a)t=e[a],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function f(e){for(var t,n,r=[],a=r,o=[],i=0,l=e.length;i<l;++i)switch(t=e[i],t[0]){case"#":case"^":a.push(t),o.push(t),a=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],a=o.length>0?o[o.length-1][4]:r;break;default:a.push(t)}return r}function d(e){this.string=e,this.tail=e,this.pos=0}function c(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var g=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===g.call(e)},m=RegExp.prototype.test,y=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,S=/\s+/,k=/\s*=/,b=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},c.prototype.push=function(e){return new c(e,this)},c.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var o,i,l=this,u=!1;l;){if(e.indexOf(".")>0)for(n=l.view,o=e.split("."),i=0;null!=n&&i<o.length;)i===o.length-1&&(u=a(n,o[i])),n=n[o[i++]];else n=l.view[e],u=a(l.view,e);if(u)break;l=l.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=u(e,t)),r},p.prototype.render=function(e,t,n){var r=this.parse(e),a=t instanceof c?t:new c(t);return this.renderTokens(r,a,n,e)},p.prototype.renderTokens=function(e,t,n,r){for(var a,o,i,l="",u=0,s=e.length;u<s;++u)i=void 0,a=e[u],o=a[0],"#"===o?i=this.renderSection(a,t,n,r):"^"===o?i=this.renderInverted(a,t,n,r):">"===o?i=this.renderPartial(a,t,n,r):"&"===o?i=this.unescapedValue(a,t):"name"===o?i=this.escapedValue(a,t):"text"===o&&(i=this.rawValue(a)),void 0!==i&&(l+=i);return l},p.prototype.renderSection=function(e,n,r,a){function o(e){return i.render(e,n,r)}var i=this,l="",u=n.lookup(e[1]);if(u){if(h(u))for(var s=0,f=u.length;s<f;++s)l+=this.renderTokens(e[4],n.push(u[s]),r,a);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(e[4],n.push(u),r,a);else if(t(u)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,a.slice(e[3],e[5]),o),null!=u&&(l+=u)}else l+=this.renderTokens(e[4],n,r,a);return l}},p.prototype.renderInverted=function(e,t,n,r){var a=t.lookup(e[1]);if(!a||h(a)&&0===a.length)return this.renderTokens(e[4],t,n,r)},p.prototype.renderPartial=function(e,n,r){if(r){var a=t(r)?r(e[1]):r[e[1]];return null!=a?this.renderTokens(this.parse(a),n,r,a):void 0}},p.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},p.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var I=new p;return e.clearCache=function(){return I.clearCache()},e.parse=function(e,t){return I.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return I.render(e,t,r)},e.to_html=function(n,r,a,o){var i=e.render(n,r,a);return t(o)?void o(i):i},e.escape=l,e.Scanner=d,e.Context=c,e.Writer=p,e})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){c.default.refresh(),c.default.sdk.pushStateCallback(),v.default.refresh(),g.default.initializeCookies(),f.default.clearTimers(),f.default.initializeTimers(),m.default.send("pageview")}function o(){if(window.history){var e=window.history.pushState;window.history.pushState=function(t){return c.default.sdk.pushStateReset&&setTimeout(a,0),e.apply(window.history,arguments)};var t=window.history.replaceState;window.history.replaceState=function(e){return c.default.sdk.replaceStateReset&&setTimeout(a,0),t.apply(window.history,arguments)}}var n=window.onhashchange||function(){return!0};window.onhashchange=function(){return w&&setTimeout(a,0),n.apply(window,arguments)}}function i(e){w=e}function l(e){S=e}function u(e){var t=e.getBoundingClientRect(),n=window.innerWidth||doc.documentElement.clientWidth,r=window.innerHeight||doc.documentElement.clientHeight,a=function(e,t){return document.elementFromPoint(e,t)};return!(t.right<0||t.bottom<0||t.left>n||t.top>r)&&(e.contains(a(t.left,t.top))||e.contains(a(t.right,t.top))||e.contains(a(t.right,t.bottom))||e.contains(a(t.left,t.bottom)))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(16),f=r(s),d=n(2),c=r(d),p=n(5),g=r(p),h=n(10),m=r(h),y=n(20),v=r(y),w=!0,S=c.default.sdk.pushStateReset||!1;c.default.sdk.replaceStateReset||!1;t.default={initializeNavigationEvents:o,setOnHashChangeReset:i,setPushStateReset:l,isElementVisible:u},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a);t.default={fetchData:{finalized:!1,startTime:0,timeout:1e4,fetchQueue:[],dedupQueue:{},recs:{},calls:{},dedupMax:{},retried:{}},refresh:function(){this.fetchData=o.default.mergeMap(this.fetchData,{dedupQueue:{}})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=i.default.inventory.collectOpenGraph?f.default.scrapeOpenGraph():{};if(i.default.inventory.collectOpenGraphOnly)for(var t=0;t<i.default.inventory.mandatoryOpenGraphFeatures.length;t++)if(void 0===e[i.default.inventory.mandatoryOpenGraphFeatures[t]])return void(i.default.debug&&console.log("LI: You are missing the following Open Graph feature for your metadata: "+i.default.inventory.mandatoryOpenGraphFeatures[t]));var n=i.default.inventory.features;if(n)for(var t=0;t<n.length;t++){var r=n[t],a=f.default.scrapeFeature(r);a&&a.length>0&&(e[r.name]=a)}e.title||(e.title=[f.default.getTitleFallback()]),e.url=[f.default.getCanonicalUrl()];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];(void 0===a||null===a||a.length<=0)&&delete e[o]}i.default.inventory.collectJSON&&(e=c.default.mergeMap(e,f.default.scrapeJSON()));for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];void 0!==a&&null!==a||delete e[o]}for(var t=0;t<i.default.inventory.mandatoryFeatures.length;t++)if(void 0===e[i.default.inventory.mandatoryFeatures[t]])return void(i.default.debug&&console.log("LI: You are missing the following feature for your metadata: "+i.default.inventory.mandatoryFeatures[t]));return e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),l=n(11),u=r(l),s=n(13),f=r(s),d=n(3),c=r(d),p=n(10);r(p);t.default={collect:function(){var e=i.default.inventory.inventoryServer+"/"+i.default.inventory.inventoryApiVersion+"/__inventory.gif?"+u.default.basicParam(),t=a(),n=i.default.inventory.itemRegex,r=i.default.inventory.excludeRegex,o=i.default.inventory.filters;if(o&&t)for(var l=0;l<o.length;l++)if((t[o[l].name]||[]).indexOf(o[l].value)>=0){if("true"!=o[l].negate)return}else if("true"==o[l].negate)return;if(!(n&&t[i.default.inventory.id]&&t[i.default.inventory.id][0]&&null===t[i.default.inventory.id][0].match(n))&&!(r&&t[i.default.inventory.id]&&t[i.default.inventory.id][0]&&null!==t[i.default.inventory.id][0].match(r))&&void 0!==t&&Object.keys(t).length>1){e+="&item="+encodeURIComponent(JSON.stringify(t)),e+=void 0===i.default.inventory.version?"":"&ver="+i.default.inventory.version,e+="&ttl=0";var s=new Image;s.src=e}},scrapeInventory:a},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return e&&t in e&&typeof e[t]==n?e[t]:void console.log("LI: Invalid or missing parameter: "+t)}function o(){return ne.default.getWidgetData()}function i(e){return 0==Object.keys(e).length}function l(){return!i(o())}function u(e){var t=ae.default.getObjectKeys(o().widgets);if(e&&"function"==typeof e)return e(t);if(e){var n=a(e,"callback","function");return n?n(t):t}return t}function s(e,t,n){return t in e?e[t]:n}function f(e){for(var t in e)e[t]||delete e[t];return ae.default.djb2HashCode(JSON.stringify(e))}function d(e){if(e){var t=a(e,"max","number"),n=(a(e,"callback","function"),a(e,"widget","string")),r=o();if(t){if(r.widgets&&r.widgets[n]){var i=r.widgets[n].opts||{};e.opts=e.opts||{},e.opts=ae.default.mergeMap(i,e.opts)}e.itemsToRank&&(e.opts=e.opts||{},e.opts.itemsToRank=JSON.stringify(e.itemsToRank),delete e.itemsToRank),e.optsKey=f(e.opts||{}),ge.default.fetchData.fetchQueue.push(e)}else;}}function c(e,t,n){var r=s(ge.default.fetchData.dedupQueue,n,[]),a=[],o=Y.default.sdk.iden;if(e.items)if(e.items.length)try{for(var i=0,l=0;i<e.items.length&&l<t;++i){var u=e.items[i][o]||"",f=ae.default.djb2HashCode(u);if(1!=r[f]){""!=n&&(r[f]=1);var d=ae.default.clone(e.items[i]);d.rank=++l,a.push(d)}}}catch(e){}else console.log("LI: Query response received from LiftIgniter was either empty or not of the proper type. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");else console.log("LI: The query response received from LiftIgniter did not have any items. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");return""!=n&&(ge.default.fetchData.dedupQueue[n]=r),{items:a}}function p(e,t){if(Y.default.customCallback&&Y.default.customCallback(ge.default.fetchData.recs[e.optsKey].items),Math.random()<.1||(e.clientLatency||0)>1500||(e.preparationTime||0)>50){var n=0,r=0;try{performance&&performance.memory&&performance.memory.usedJSHeapSize&&(n=performance.memory.usedJSHeapSize),performance&&performance.memory&&performance.memory.totalJSHeapSize&&(r=performance.memory.totalJSHeapSize)}catch(e){console.log("Unexpected error when running performance code",e)}ue.default.send("widget_response",{fst:e.fetchStartTime||0,fstr:e.fetchStartTimeRelative||0,pt:e.preparationTime||0,cl:e.clientLatency||0,usedJS:n,totalJS:r})}e.callback(c(ge.default.fetchData.recs[e.optsKey],e.max,t))}function g(e){Y.default.refresh(),ge.default.refresh(),ve.default.initializeCookies(),Se.default.clearTimers(),Se.default.initializeTimers(),ue.default.send("pageview",e)}function h(){return{dedupGroups:{},max:0,fetchInfo:{}}}function m(){if(!ge.default.fetchData.finalized){var e=o(),t="backup_recs_"+Y.default.jsKey;xe[t]=function(t){xe.setTimeout(function(){ge.default.fetchData.finalized||(ge.default.fetchData.finalized=!0,ge.default.fetchData.fetchQueue.forEach(function(n){e.widgets[n.widget]?n.callback(c(t,n.max,e.widgets[n.widget].dedupGid)):n.callback(c(t,n.max,n.dedupGid||"0"))}),ue.default.send("timeout",{method:"backupRec",interval:ge.default.fetchData.timeout}))},Math.max(ge.default.fetchData.startTime+ge.default.fetchData.timeout-ae.default.getTime(),0))};var n="//cdn.petametrics.com/backup_recs/"+Y.default.jsKey,r=Ie.createElement("script");r.type="text/javascript",r.setAttribute("src",n),Ie.head.appendChild(r)}}function y(){ge.default.fetchData.finalized||(ge.default.fetchData.finalized=!0,ge.default.fetchData.fetchQueue.forEach(function(e){e.onTimeout&&"function"==typeof e.onTimeout&&e.onTimeout()}),ue.default.send("timeout",{method:"onTimeout",interval:ge.default.fetchData.timeout}))}function v(e){var t=(new Date).getTime(),n=0;try{performance&&performance.now&&(n=0|performance.now())}catch(e){console.log("Unexpected error when running performance code in fetch",e)}if("l4npme86811m9lj2"!==Y.default.jsKey&&"t75qi93gf85456b3"!==Y.default.jsKey&&"tjdqrtlcof1ros6t"!==Y.default.jsKey||Y.default.currentUrl!==((I11C || I10C).PreLocationContextProxy)(window).locat1on.href&&g(),Y.default.disabledCust[Y.default.jsKey])return void console.log("LI: Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(!Y.default.jsKey)return void console.log("LI: Couldn't find your jsKey. Please initialize first.");if(Y.default.sdk.fetchCalled&&!Y.default.sdk.multiFetch)return void console.log("LI: fetch called before. Doing nothing");Y.default.sdk.fetchCalled=!0,ge.default.fetchData.finalized=!1,Y.default.sdk.multiFetch&&(ge.default.fetchData.dedupQueue=[]),ge.default.fetchData.startTime=ae.default.getTime(),ge.default.fetchData.timeout=e&&e.timeout||ge.default.fetchData.timeout,ge.default.fetchData.fetchQueue&&ge.default.fetchData.fetchQueue.length>0&&(Y.default.sdk.enableBackup?xe.setTimeout(m,2500):xe.setTimeout(y,ge.default.fetchData.timeout),Y.default.sdk.retry&&xe.setTimeout(w,4300));var r=o(),a={},i={};ge.default.fetchData.fetchQueue.forEach(function(e){var o=a[e.optsKey]||h(),l=r.widgets||{},u=l[e.widget]||{},s=e.dedupGid||u.dedupGid||"0";s&&(i[s]=(i[s]||0)+(e.max||0),o.dedupGroups[s]=!0),o.max=Math.max(o.max,e.max),o.resultType=e.resultType,o.fetchInfo[e.widget]=e.max,o.opts=e.opts||{},o.dedupGid=e.dedupGid,o.fetchStartTime=t,o.fetchStartTimeRelative=n,a[e.optsKey]=o}),ge.default.fetchData.calls=a,ge.default.fetchData.dedupMax=i;for(var l in a)S(l,Y.default.sdk.queryServer)}function w(){var e=ge.default.fetchData.calls;for(var t in e)ge.default.fetchData.finalized||ge.default.fetchData.recs[t]||ge.default.fetchData.retried[t]||(console.log("LI: Recs have not been received for one of the keys, so we are retrying ",t),S(t,Y.default.sdk.backupQueryServer))}function S(e,t){var n=ge.default.fetchData.calls,r=ge.default.fetchData.dedupMax,a=o();if(n.hasOwnProperty(e)){var i=n[e],l=0;for(var u in i.dedupGroups)l+=r[u];if(Y.default.sdk.stabilize&&i.opts&&i.opts.itemsToRank&&fe.default.sessStorage.getItem(ae.default.djb2HashCode(JSON.stringify(i.opts.itemsToRank.sort())))){var s=0;try{performance&&performance.now&&(s=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}var f=JSON.parse(fe.default.sessStorage.getItem(ae.default.djb2HashCode(JSON.stringify(i.opts.itemsToRank.sort()))));ge.default.fetchData.finalized||(f.items?(ge.default.fetchData.recs[e]=f,Ce(ge.default.fetchData.recs)==Ce(n)&&(ge.default.fetchData.finalized=!0,ge.default.fetchData.fetchQueue.forEach(function(e){e.fetchStartTime=i.fetchStartTime,e.preparationTime=s-i.fetchStartTimeRelative;var t=0;try{performance&&performance.now&&(t=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}e.clientLatency=t-s,a.widgets[e.widget]?p(e,e.dedupGid||a.widgets[e.widget].dedupGid||""):p(e,"0")}),ge.default.fetchData.fetchQueue=[],ge.default.fetchData.recs={},ge.default.fetchData.dedupQueue=[])):console.log("LI: Response does not seem to make sense, so punting"))}else{var s=0;try{performance&&performance.now&&(s=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}k({name:"default-widget",max:Math.max(i.max,l),resultType:i.resultType,opts:ae.default.mergeMap(i.opts,{fetchInfo:JSON.stringify(i.fetchInfo)}),optsKey:e,serverName:t,callback:function(e,t){ge.default.fetchData.finalized||(e.items?(ge.default.fetchData.recs[t.optsKey]&&console.log("LI: We are overwriting previously fetched recommendations. As a general rule, this should not happen."),ge.default.fetchData.recs[t.optsKey]=e,Ce(ge.default.fetchData.recs)==Ce(n)&&(ge.default.fetchData.finalized=!0,Y.default.rankFiddling&&Y.default.rankFiddling(ge.default.fetchData.fetchQueue),ge.default.fetchData.fetchQueue.forEach(function(e){e.fetchStartTime=i.fetchStartTime,e.fetchStartTimeRelative=i.fetchStartTimeRelative,e.preparationTime=s-i.fetchStartTimeRelative;var t=0;try{performance&&performance.now&&(t=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}e.clientLatency=t-s,a.widgets[e.widget]?p(e,a.widgets[e.widget].dedupGid||""):p(e,"0")}),ge.default.fetchData.fetchQueue=[],ge.default.fetchData.recs={},ge.default.fetchData.dedupQueue=[],Y.default.sdk.stabilize&&t.opts.itemsToRank&&fe.default.sessStorage.setItem(ae.default.djb2HashCode(JSON.stringify(t.opts.itemsToRank.sort())),JSON.stringify(e)))):console.log("LI: Response does not seem to make sense, so punting"))}})}}}function k(e){var t=Y.default.frontPageBoost?"ModelQ":void 0,n=z();n=isNaN(n)?"":"&forcedHash="+n;var r=function(t){e.callback(t,e)},a=function(t,n){console.log("error code: "+t),console.log("error message: "+n),t>=500?ge.default.fetchData.retried[e.optsKey]||(console.log("LI: Recs have not been received for one of the keys, so we are retrying",e.optsKey),ge.default.fetchData.retried[e.optsKey]=!0,S(e.optsKey,Y.default.sdk.backupQueryServer)):t>=400&&(ge.default.fetchData.retried[e.optsKey]=!0)},o=e.serverName+"/"+Y.default.sdk.queryApiVersion+"/model?"+ee.default.forCurrentExample(t);try{for(var i in Y.default.globalCtx)Y.default.globalCtx.hasOwnProperty(i)&&(o+="[object Array]"===Object.prototype.toString.call(Y.default.globalCtx[i])?"&"+i+"="+encodeURIComponent(JSON.stringify(Y.default.globalCtx[i])):"&"+i+"="+encodeURIComponent(Y.default.globalCtx[i]))}catch(e){console.log("Error adding global context when making model query, the query will still proceed fine")}o+=e.max?"&max="+encodeURIComponent(e.max):"",o+=e.name?"&w="+encodeURIComponent(e.name):"",o+=Y.default.sdk.requestFields?"&f="+encodeURIComponent(JSON.stringify(Y.default.sdk.requestFields)):"",o+=Y.default.sdk.arrayRequestFields?"&arf="+encodeURIComponent(JSON.stringify(Y.default.sdk.arrayRequestFields)):"",o+=Y.default.sdk.mandatoryRequestFields&&Y.default.sdk.mandatoryRequestFields.length>0?"&mf="+encodeURIComponent(JSON.stringify(Y.default.sdk.mandatoryRequestFields)):"",o+=Y.default.sdk.mandatoryArrayRequestFields&&Y.default.sdk.mandatoryArrayRequestFields.length>0?"&marf="+encodeURIComponent(JSON.stringify(Y.default.sdk.mandatoryArrayRequestFields)):"";try{fe.default.hasStorageEnabled()&&(Y.default.shown.active&&Y.default.longHist.active?o+="&exc="+JSON.stringify(JSON.parse(fe.default.getLongHist()).concat(JSON.parse(fe.default.getFrequent()))):Y.default.longHist.active?o+="&exc="+JSON.stringify(JSON.parse(fe.default.getLongHist())):Y.default.shown.active&&(o+="&exc="+JSON.stringify(JSON.parse(fe.default.getFrequent()))))}catch(e){console.log("LI: Error when trying to add some storage data into query, continuing anyway. Contact support@liftigniter.com if you notice this, including information on your browser."),console.log("LI: Error details",e)}o+=Y.default.sdk.requestFieldsAON?"&fa="+encodeURIComponent(Y.default.sdk.requestFieldsAON):"",o+=Y.default.sdk.getQueryInfo?"&gqi="+encodeURIComponent(Y.default.sdk.getQueryInfo):"";for(var l in e.opts)e.opts.hasOwnProperty(l)&&(o+="object"==typeof e.opts[l]?"&"+l+"="+encodeURIComponent(JSON.stringify(e.opts[l])):"&"+l+"="+encodeURIComponent(e.opts[l]));o+=n,be.default.thirdPartyFetchNoCookies(o,0,r,a)}function b(e,t){function n(e){13==e.which&&ue.default.send("search_enter",{source:t,q:e.target.value})}var r=document.querySelector(e);r.addEventListener("keypress",n,!1)}function x(e){return[].concat.apply([],e.map(function(e){var t=Array.prototype.slice.call(e.querySelectorAll("a"));return"A"!=(e.tagName||e.nodeName||"")&&0!=t.length||t.push(e),t}))}function I(e,t){return x(e).map(function(e){return Y.default.trackingTransURL(e.href)}).filter(function(e){return t.test(e)}).slice(0,50)}function C(e,t,n,r,a,o){var i=a.type||"widget",l=(a.page||"",f(a)),u=function(){if(me.default.isElementVisible(e)&&!Re[l]){try{performance&&performance.now&&(Y.default.timing.visibleTimes[t]=0|performance.now(),a.st=Y.default.timing.shownTimes[t]||0,a.tss=(Y.default.timing.visibleTimes[t]||0)-(Y.default.timing.shownTimes[t]||0))}catch(e){console.log("Encountered unexpected error when adding performance information to visible event: ",e)}o&&alert("visible for "+t+":"+r.source),ue.default.send(i+"_visible",ae.default.mergeMap(ae.default.mergeMap(r,a),{vi:JSON.stringify(n)})),Re[l]=!0,Y.default&&Y.default.shown&&Y.default.shown.active&&fe.default.storeVisibleElements(n.slice(0,Y.default.shown.vizCap))}};u(),ie.default.addEvent(Ie,"DOMContentLoaded",T(u,250,!0)),ie.default.addEvent(Ie,"load",T(u,250,!0)),ie.default.addEvent(Ie,"resize",T(u,250,!0)),ie.default.addEvent(Ie,"scroll",T(u,250,!0)),setTimeout(u,500)}function R(e){if(e){e.name||(console.log("LI: specify the widget name on tracking function. Setting widget name to default-widget by default"),e.name="default-widget"),"function"==typeof Y.default.sdk.customTrackFunc&&Y.default.sdk.customTrackFunc(e);var t=e.params||{},n=e.elements;if(n&&n.length&&n.length>0){n=Array.prototype.slice.call(n);var r=a(e,"name","string"),i=a(e,"source","string");if(r&&i){var l=o(),u=I(n,new RegExp(l.itemRegex)||/.*/),s=[];u.forEach(function(e){s.indexOf(e)<0&&s.push(Y.default.trackingTransURL(e))});var f=e.opts||{},d=f.type||"widget";f.tType=d,f.source=i,f.w=r;try{performance&&performance.now&&(Y.default.timing.shownTimes[r]=0|performance.now(),f.st=Y.default.timing.shownTimes[r])}catch(e){console.log("Unexpected error when recording the current time",e)}"search"!=d?ue.default.send(d+"_shown",ae.default.mergeMap(f,{vi:JSON.stringify(s)})):e.q&&(f.q=e.q),"widget"===d&&n[0]&&C(n[0],r,s,f,f,e._debug);var c=x(n),p=t.tagPrefix?t.tagPrefix:"li",g=t.noTag||Y.default.noTag||!1,h=t.noClick||!1;c.forEach(function(t){g||ce.default.tagAnchor(t,f,p),h||ce.default.trackAnchor(t,f,ae.default.mergeMap(f,{vi:JSON.stringify(s)}),e._debug)}),Te[r]=!0}}}}function T(e,t,n){var r;return function(){var a=this,o=arguments,i=function(){r=null,n||e.apply(a,o)},l=n&&!r;clearTimeout(r),r=setTimeout(i,t),l&&e.apply(a,o)}}function _(e){var t=ae.default.djb2HashCode(Y.default.uid||0);if(!e||"function"!=typeof e){if(e){var n=a(e,"callback","function");return n?n(t):(elseTe,t)}return t}e(t)}function U(e,t,n,r){var a=r||["{{","}}"];$.default.parse(e,a);var o=$.default.render(e,t);return"function"!=typeof n?o:void n(o)}function O(e){var t=o();"function"==typeof t.render?t.render(e):console.log("LI: Custom widget not defined.")}function E(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.requestFields=e:console.error("LI: Error setting request fields: input is not an array.")}function A(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.arrayRequestFields=e:console.error("LI: Error setting array request fields: input is not an array.")}function P(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.mandatoryRequestFields=e:console.error("LI: Error setting mandatory request fields: input is not an array.")}function H(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.mandatoryArrayRequestFields=e:console.error("LI: Error setting mandatory array request fields: input is not an array.")}function j(e){"boolean"==typeof e?Y.default.sdk.requestFieldsAON=e:console.error("LI: Error setting request fields all or nothing: input is not a boolean.")}function D(e){"boolean"==typeof e?Y.default.sdk.getQueryInfo=e:console.error("Error changing setting on getting query info: input is not a boolean.")}function q(e){"boolean"==typeof e?Y.default.noTag=e:console.error("Error setting noTag: input is not a boolean.")}function M(e,t){var n=Array.prototype.slice.call(Ie.querySelectorAll(e)),r=t||{st:0};return r.e=r.e||n.length,n.slice(r.st,r.e)}function K(e,t,n,r,a){var o,i=a||{};if(i.fullRender){var l=Ie.querySelector(i.topLevelCss);l.innerHTML=$.default.render(r,{items:n}),o=M(e,i.replaceRange)}else{o=M(e,i.replaceRange);for(var u=Math.min(o.length,n.length),s=0;s<u;++s)if(i.outer){var f=Ie.createElement("div");f.innerHTML=$.default.render(r,n[s]),o[s].parentNode.replaceChild(f.firstChild,o[s])}else o[s].innerHTML=$.default.render(r,n[s]);i.outer&&(o=M(e,i.replaceRange))}R({elements:o,name:t,source:"LI",params:{tagPrefix:i.tagPrefix,noTag:i.noTag}}),i["on-load"]&&eval.call(xe,i["on-load"])}function F(e,t,n,r,a,o,i){o=o||{},d({max:e,widget:n,callback:function(e){function a(){o.preproc&&(u=xe[o.preproc](u)),K(t,n,u,r,o)}function l(){var e=o.fullRender?o.topLevelCss:t;return Ie.querySelectorAll(e).length>0}var u=e.items,s=i||l;ie.default.doWhenReady(s,a)},opts:a||{}})}function N(e,t,n,r){function a(){var t=o.fullRender?o.topLevelCss:e;return Ie.querySelectorAll(t).length>0}var o=n||{},i=r||a;ie.default.doWhenReady(i,function(){var n=M(e,o.replaceRange);R({elements:n,name:t,source:"base",params:{tagPrefix:o.tagPrefix,noTag:o.noTag}})})}function L(){if(((I11C || I10C).PreLocationContextProxy)(xe).locat1on.search.indexOf("igniter_abhash")!=-1){var e=parseInt(ee.default.getParam("igniter_abhash"));if(!isNaN(e)&&e<100&&e>=0)return e}return _()%100}function J(e){if(e){var t=a(e,"callback","function");if(t)return t(L())}}function z(){if(((I11C || I10C).PreLocationContextProxy)(xe).locat1on.search.indexOf("ig_exp_hash")!=-1){var e=parseInt(ee.default.getParam("ig_exp_hash"));if(!isNaN(e)&&e<100&&e>=0)return e}}function B(e){if(Y.default.inventory.collect)return void console.log("LI: Default scraping is turned on. Turn off automatic scraping");var t=e||{},n=Y.default.inventory.mandatoryFeatures,r=Y.default.inventory.inventoryServer+"/"+Y.default.inventory.inventoryApiVersion+"/__inventory.gif?"+ee.default.basicParam(),a=!1;for(var o in t)if(t.hasOwnProperty(o)){var i=typeof t[o];if("string"===i||"number"===i)t[o]=t[o];else if(void 0===t[o])console.log("LI: A field is undefined. Removing the field"),delete t[o];else{if(!(t[o].length>=0))throw"LI: LI only accepts String, Number, or array of Strings for object values";a=!0}}for(var l=0;l<n.length;l++)if(!t[n[l]])throw"LI: You are missing the following feature for your metadata: "+n[l];if(void 0!==t&&Object.keys(t).length>1){r+="&item="+encodeURIComponent(JSON.stringify(t)),r+=void 0===Y.default.inventory.version?"":"&ver="+Y.default.inventory.version;var u=new Image;u.src=r}}function G(e){return Y.default.sdk.manualHist?e instanceof Array?void(Y.default.sdk.manualHist=e):void console.log("LI: Given argument is not an array."):void console.log("LI: Turn off the automatic history tracking")}function Q(e){if("string"!=typeof e)return void console.log("LI: argument of pushBrowsingHist must be a String");Y.default.hist=ve.default.readCookie(Y.default.histKey);var t=e;fe.default.appendUrlToLongHist(t);var n=encodeURIComponent(t);if(Y.default.hist){for(var r=Y.default.hist.split(",").join("|").split("|"),a=!1,o=0;o<r.length;o++)if(r[o]===n){a=!0;break}a||(r.length>=10&&(r=r.slice(1,10)),r.push(n)),Y.default.hist=r.join("|")}else Y.default.hist=n;ve.default.createCookie(Y.default.histKey,Y.default.hist,15)}function W(e){Y.default.customContext=e}Object.defineProperty(t,"__esModule",{value:!0});var V=n(18),$=r(V),X=n(2),Y=r(X),Z=n(11),ee=r(Z),te=n(9),ne=r(te),re=n(3),ae=r(re),oe=n(8),ie=r(oe),le=n(10),ue=r(le),se=n(6),fe=r(se),de=n(17),ce=r(de),pe=n(20),ge=r(pe),he=n(19),me=r(he),ye=n(5),ve=r(ye),we=n(16),Se=r(we),ke=n(23),be=r(ke),xe=window,Ie=document,Ce=ae.default.size,Re={},Te={};t.default={getWidgetNames:u,register:d,fetch:v,resetPageview:g,monitorSearch:b,track:R,userHash:_,render:U,renderCustomWidget:O,setRequestFields:E,setArrayRequestFields:A,setMandatoryRequestFields:P,setMandatoryArrayRequestFields:H,setRequestFieldsAON:j,setGetQueryInfo:D,setNoTag:q,isActivated:l,addRecsHelper:F,userCallback:p,baseTrack:N,abSlice:L,abTestSlice:J,sendItem:B,setHist:G,pushBrowsingHist:Q,setContext:W,debounce:T},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){function a(e){var t=e.target;200===t.status?n(JSON.parse(t.responseText)):r(t.status,t.responseText)}function o(){r(-2,"client timeout")}function l(e){var t=e.target;r(t.status,"network error")}if("string"!=typeof e)throw Error("url must be string");if(null==t||!(t>=0))throw Error("Timeout must be non-negative number. 0 means no timeout.");if("function"!=typeof n)throw Error("Expected successCallback to be function");if("function"!=typeof r)throw Error("Expected errorCallback to be function");var u="undefined"==typeof XMLHttpRequest?null:new XMLHttpRequest;if(null==u||void 0===u.withCredentials){var s=function(){var a=document.createElement("script"),l="igniter_"+i.default.generateUUID().replace(/-/g,""),u=!1,s=0==t?null:setTimeout(function(){u||(u=!0,o())},t);return window[l]=function(e){u||(u=!0,null!=s&&clearTimeout(s),n(e)),a.parentNode.removeChild(a)},a.async=a.defer=!0,a.src=e+(e.indexOf("?")>=0?"&":"?")+"jsonp="+l,a.onerror=function(e){u||(u=!0,clearTimeout(s),r(-3,"Jsonp script failed to load")),a.parentNode.removeChild(a)},document.head.appendChild(a),{v:void 0}}();if("object"==typeof s)return s.v}u.open("GET",e,!0),u.onload=a,u.ontimeout=o,u.onerror=l,u.timeout=t;try{u.send()}catch(e){r(-1,e.name+": "+e.message+(null!=e.description?" "+e.description:""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.thirdPartyFetchNoCookies=a;var o=n(3),i=r(o);t.default={thirdPartyFetchNoCookies:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(e,t){}var n=e.query||i.default.search.defaultQuery,r=i.default.jsKey,a=e.max||i.default.search.max,o=e.off||i.default.search.off,l=e.requestFields||i.default.search.requestFields,s=i.default.search.queryServer;if(!r)return void console.log("LI: Client isn't initialized. Load the JavaScript Key");var d=s+"/v1/search?";d+=u.default.forCurrentExample(),d+="&q="+encodeURIComponent(n),d+="&smx="+encodeURIComponent(a),d+="&sf="+encodeURIComponent(JSON.stringify(l)),d+="&sof="+encodeURIComponent(o);for(var c in e.opts)e.opts.hasOwnProperty(c)&&(d+="object"==typeof e.opts[c]?"&"+c+"="+encodeURIComponent(JSON.stringify(e.opts[c])):"&"+c+"="+encodeURIComponent(e.opts[c]));(0,f.thirdPartyFetchNoCookies)(d,0,function(t){return e.callback(t,e)},t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),l=n(11),u=r(l),s=n(3),f=(r(s),n(23));window;t.default={search:a},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){
function t(e){o(e),d(e)}function n(e,t){l&&l({code:e,message:t})}var r=[];for(var a in e)e.hasOwnProperty(a)&&(b[a]?typeof e[a]!==b[a]&&r.push("Wrong type for key "+a+" (expected "+b[a]+", got "+typeof e[a]+")"):r.push("Unrecognized key "+a));if(null==x&&(x=i()),r.length>0)throw Error('$p("fpo", options): '+r.join("; "));var o=e.callback,l=e.errorCallback;if(null==g.default.jsKey)throw Error('$p("fpo", options): Liftigniter not initialized; you must call $p("init") first');if("string"!=typeof g.default.fpo.queryServer)throw Error("Expected Config.fpo.queryServer to be a string");var u=void 0,s=m.default.forCurrentExample(u),f=g.default.fpo.queryServer+"/v1/floorPrice?"+s+(e.failSometimes?"&failSometimes=true":"")+"&fpoHistory="+encodeURIComponent(JSON.stringify(x)),c=g.default.fpo.timeout;if(null==c||!(c>=0))throw Error("Expected non-zero Config.fpo.timeout");(0,y.thirdPartyFetchNoCookies)(f,c,t,n)}function i(){var e=void 0;if(null!=window.localStorage)try{e=JSON.parse(localStorage.getItem("pm-fpo")||"null"),null!=e&&"object"==typeof e||(e={})}catch(t){e={}}else e={};for(null!=e.pageviews&&null!=e.pageviews.length||(e.pageviews=[]);e.pageviews.length>0&&!e.pageviews[0].dfpFilledSlots;)e.pageviews.shift();return e}function l(e){try{if(null!=window.localStorage){var t=JSON.stringify(e);return localStorage.setItem("pm-fpo",t),"ok"}return"noLocalStorage"}catch(e){return console.log("Error when saving to FPO history",e),"Error: QUOTA_EXCEEDED_ERR: DOM Exception 22"==e||"Error: QuotaExceededError: DOM Exception 22"==e||"QuotaExceededError (DOM Exception 22): The quota has been exceeded."==e?(u(),"localStorageFull"):"Unexpected error: "+e}}function u(){try{return null!=window.localStorage?(localStorage.removeItem("pm-fpo"),"ok"):"noLocalStorage"}catch(e){return console.log("Error when deleting FPO history",e),"Unexpected error: "+e}}function s(e,t){var n=f();return n.pubadsRequested.apply(n,arguments)}function f(){return C||(C=new I),C}function d(e){var t=f();t.resetKnownSlotsAndStartReporting(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.fetchFloorPrice=o,t.pubadsRequested=s,t.reportAdxStats=d;var p=n(2),g=r(p),h=n(11),m=r(h),y=n(23),v=n(10),w=r(v),S=n(3),k=r(S),b={callback:"function",errorCallback:"function",failSometimes:"boolean"},x=null,I=function(){function e(){a(this,e),this.slotRenderEndedListenerInstalled=!1,this.batchCount=0,this.reportBatch=null,this.fpoResp={},this.checkNewSlotsInterval=0,this.newSlots=null,this.slotsWaitingForTimeout=null,this.seenSlots={},this.refreshBasedReportBatches=[],null==x&&(x=i()),x.pageCount=(x.pageCount||0)+1,this.pageEvent=null;for(var t=0;t<x.pageviews.length;t++){var n=x.pageviews[t];if(null!=n&&n.pvid===g.default.pvid){this.pageEvent=n;break}}null==this.pageEvent&&(this.pageEvent={pvid:g.default.pvid,pageLoadClientTimestamp:+new Date,priceInPennies:null,slotPrices:{},dfpFilledSlots:[],adxFilledSlots:[],unfilledSlots:[]},x.pageviews.length>=4&&x.pageviews.shift(),x.pageviews.push(this.pageEvent))}return c(e,[{key:"reportNewSlots",value:function(t,n){var r=this;try{var a={},o=!0;if(null!=t&&t.length>0){var i=e.getFillInfo(t,n),u=i.dfpPaths,s=i.adxPaths,f=i.unfPaths,d=googletag.pubads().getTargetingKeys(),c=d.reduce(function(e,t){return e[t]=googletag.pubads().getTargeting(t),e},{});a.dfpFilledSlots=u,a.adxFilledSlots=s,a.unfilledSlots=f,a.batchNumber=this.batchCount++,a.allSlotInfo=JSON.stringify(i.reportBatchIncludingUnfilled),a.fpoHistory=JSON.stringify(x),d.length>0&&(a.targeting=JSON.stringify(c)),this.pageEvent.dfpFilledSlots=u,this.pageEvent.adxFilledSlots=s,this.pageEvent.unfilledSlots=f,this.pageEvent.priceInPennies=this.fpoResp.priceInPennies,u.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])}),s.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])}),f.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])});var p=l(x);"ok"!=p&&(a.fpoHistorySaveStatus=p),o=!1}if(this.refreshBasedReportBatches.length>0){var g=this.refreshBasedReportBatches.filter(function(e){return null!=e.sendParams});if(this.refreshBasedReportBatches=this.refreshBasedReportBatches.filter(function(e){return null==e.sendParams}),g.length>0){var h=g.map(function(e){return e.lostSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),m=null==h?null:h.map(function(e){return e.getAdUnitPath()}),y=g.map(function(e){return e.lostAdxFilledSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),v=g.map(function(e){return e.lostDfpFilledSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),S=g.map(function(e){return e.sendParams}).reduce(function(e,t){return{refreshBasedDfpFilledSlots:e.refreshBasedDfpFilledSlots.concat(t.refreshBasedDfpFilledSlots),refreshBasedAdxFilledSlots:e.refreshBasedAdxFilledSlots.concat(t.refreshBasedAdxFilledSlots),refreshBasedUnfilledSlots:e.refreshBasedUnfilledSlots.concat(t.refreshBasedUnfilledSlots)}});null!=m&&(S.refreshBasedLostSlots=m),null!=y&&(S.refreshBasedLostAdxFilledSlots=y),null!=v&&(S.refreshBasedLostDfpFilledSlots=v),a=k.default.mergeMap(a,S)}o=!1}if(o)return;var b=k.default.mergeMap(k.default.mergeMap(this.fpoResp,a),{slotPrices:JSON.stringify(this.pageEvent.slotPrices)});w.default.send("slotsRendered",b)}catch(e){console.log("Encountered exception when preparing and sending ad slots report",e),w.default.send("reportNewSlotsError",{errorDetails:"Encountered error: "+e+" when trying to send adSlotsReport"})}}},{key:"resetKnownSlotsAndStartReporting",value:function(e){var t=this;0!==this.checkNewSlotsInterval&&(clearInterval(this.checkNewSlotsInterval),this.checkNewSlotsInterval=0),this.fpoResp=e,this.newSlots=null,this.slotsWaitingForTimeout=null,this.seenSlots={},this.checkNewSlotsInterval=setInterval(function(){t.pollSlots()},750),this.pollSlots()}},{key:"pubadsRequested",value:function(t,n){var r=this;try{1!==arguments.length||Array.isArray(t)||"object"!=typeof t||(n=t,t=void 0);var a=[];if(Array.isArray(t))for(var o=0;o<t.length;o++)"object"==typeof t[o]&&"function"==typeof t[o].getAdUnitPath||a.push("opt_slots["+o+"] = "+t[o]+" but expected a Slot object");else null!=t&&a.push("opt_slots = "+t+" but expected null or array of slots");if("object"!=typeof n&&null!=n&&a.push("opt_options = "+n+" but expected null or object"),a.length>0)throw Error('$p("pubadsRequested", opt_slots, opt_options): '+a.join("; "));var i=t||googletag.pubads().getSlots();return i.length>0&&!function(){for(var t={},n=0;n<i.length;n++)t[i[n].getAdUnitPath()]=!0;r.refreshBasedReportBatches.forEach(function(n){if(null==n.sendParams){var r=n.slots.filter(function(e){return t[e.getAdUnitPath()]}),a=e.getFillInfo(r,n.reportBatch);n.lostAdxFilledSlots=e.checkAppend(n.lostAdxFilledSlots,a.adxPaths),n.lostDfpFilledSlots=e.checkAppend(n.lostDfpFilledSlots,a.dfpPaths),n.lostSlots=e.checkAppend(n.lostSlots,r),n.slots=n.slots.filter(function(e){return!t[e.getAdUnitPath()]})}});var a={refreshTimestamp:+new Date,reportBatch:[],slots:i,lostSlots:null,lostAdxFilledSlots:null,lostDfpFilledSlots:null,sendParams:null};r.refreshBasedReportBatches.push(a),setTimeout(function(){return r.pollAfterRefresh(a)},2e3)}(),"ok"}catch(e){return console.log("Encountered error when processing pubAdsRequest",e),w.default.send("pubAdsRequestedError",{errorDetails:"Encountered error "+e+" when running pubAdsRequested"}),"fail"}}},{key:"pollAfterRefresh",value:function(t){try{var n=e.getFillInfo(t.slots,t.reportBatch),r={refreshBasedDfpFilledSlots:n.dfpPaths,refreshBasedAdxFilledSlots:n.adxPaths,refreshBasedUnfilledSlots:n.unfPaths};t.sendParams=r}catch(e){console.log("Encountered error when running pollAfterRefresh",e),w.default.send("pollAfterRefreshError",{errorDetails:"Encountered error "+e+" when running pollAfterRefresh"})}}},{key:"installSlotRenderEndedListener",value:function(){var t=this;this.slotRenderEndedListenerInstalled||(googletag.pubads().addEventListener("slotRenderEnded",function(n){try{null==t.reportBatch&&(t.reportBatch=[]);var r=e.getSlotInfo(n.slot,n);t.reportBatch.push(r);for(var a=0;a<t.refreshBasedReportBatches.length;a++)t.refreshBasedReportBatches[a].reportBatch.push(r)}catch(e){console.log("Encountered error when listening to slot",e),w.default.send("slotListeningError",{errorDetails:"Encountered error "+e+" when running the listener on slotRenderEnded"})}}),this.slotRenderEndedListenerInstalled=!0)}},{key:"pollSlots",value:function(){var e=this;"undefined"!=typeof googletag&&null!=googletag&&googletag.cmd.push(function(){e.pollSlotsWithGoogletag()})}},{key:"pollSlotsWithGoogletag",value:function(){var e=this;this.installSlotRenderEndedListener(),this.reportNewSlots(this.slotsWaitingForTimeout,this.reportBatch),this.slotsWaitingForTimeout=this.newSlots,this.reportBatch=null,this.newSlots=googletag.pubads().getSlots().filter(function(t){return!e.seenSlots[t.getAdUnitPath()]}),this.newSlots.forEach(function(t){e.seenSlots[t.getAdUnitPath()]=!0})}}],[{key:"getSlotInfo",value:function(e,t){var n=e.getTargetingKeys(),r=n.reduce(function(t,n){return t[n]=e.getTargeting(n),t},{}),a=e.getResponseInformation(),o={slotName:e.getAdUnitPath(),slotAdUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),outOfPage:e.getOutOfPage(),timestamp:+new Date,responseInformation:a};return n.length>0&&(o.targeting=r),null!=t&&(o.creativeId=t.creativeId,o.isEmpty=t.isEmpty,o.lineItemId=t.lineItemId,o.serviceName=t.serviceName,o.size=t.size),o}},{key:"getFillInfo",value:function(t,n){var r=t.map(function(t){var r=null;if(n)for(var a=0;a<n.length;a++)if(t.getAdUnitPath()==n[a].slotAdUnitPath){r=n[a];break}return null==r&&(r=e.getSlotInfo(t,null)),r}),a=r.filter(function(e){return!e.isEmpty&&null!=e.responseInformation&&null!=e.responseInformation.lineItemId}).map(function(e){return e.slotAdUnitPath}),o=r.filter(function(e){return!e.isEmpty&&null!=e.responseInformation&&null==e.responseInformation.lineItemId}).map(function(e){return e.slotAdUnitPath}),i=r.filter(function(e){return-1===a.indexOf(e.slotAdUnitPath)&&-1===o.indexOf(e.slotAdUnitPath)}).map(function(e){return e.slotAdUnitPath});return{dfpPaths:a,adxPaths:o,unfPaths:i,reportBatchIncludingUnfilled:r}}},{key:"checkAppend",value:function(e,t){return e=e||[],Array.prototype.push.apply(e,t),e}}]),e}(),C=null}]);
;(I11C || I10C).ScriptEnd();